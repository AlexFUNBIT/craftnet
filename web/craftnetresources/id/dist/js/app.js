(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],u=0,p=[];u<o.length;u++)r=o[u],i[r]&&p.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(s=!1)}s&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},i={app:0},a=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/craftnetresources/id/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("90e9")},"061f":function(e,t,n){},"0fa2":function(e,t,n){},"139d":function(e,t,n){"use strict";var s=n("f9f2"),i=n.n(s);i.a},1707:function(e,t,n){},"1a78":function(e,t,n){"use strict";var s=n("0fa2"),i=n.n(s);i.a},"1bd2":function(e,t,n){"use strict";var s=n("533b"),i=n.n(s);i.a},"22c8":function(e,t,n){},"231f":function(e,t,n){"use strict";var s=n("2b51"),i=n.n(s);i.a},"2aab":function(e,t,n){e.exports=n.p+"img/default-plugin.svg"},"2b51":function(e,t,n){},"2ea5":function(e,t,n){},"3aab":function(e,t,n){},"4b04":function(e,t,n){"use strict";var s=n("eb8c"),i=n.n(s);i.a},"533b":function(e,t,n){},5455:function(e,t,n){"use strict";var s=n("fbf4"),i=n.n(s);i.a},"635e":function(e,t,n){"use strict";var s=n("7618"),i=n("f499"),a=n.n(i),r=n("9b02"),o=n.n(r),c=n("ee45"),l=n.n(c);t["a"]={methods:{simpleClone:function(e,t){var n=JSON.parse(a()(e));if(!t)return n;for(var i={},r=function(e){var a=t[e];"object"===Object(s["a"])(a)?l()(i,a,function(){return o()(n,a[0],a[1])}):l()(i,a,function(){return o()(n,a,null)})},c=0;c<t.length;c++)r(c);return i},staticImageUrl:function(e){return"/craftnetresources/id/dist/img/static/"+e},craftPluginsUrl:function(){return"http://plugins.craftcms.test:3333/"}}}},6901:function(e,t,n){},"705d":function(e,t,n){},"751e":function(e,t,n){},"77e3":function(e,t,n){"use strict";var s=n("705d"),i=n.n(s);i.a},"85de":function(e,t,n){"use strict";var s=n("061f"),i=n.n(s);i.a},"877f":function(e,t,n){"use strict";n("cadf"),n("551c"),n("097d");var s=n("a026"),i=n("cd47");s["default"].use(i["a"])},"8faf":function(e,t,n){},"90e9":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("a026"),i=n("2f62");s["default"].use(i["a"]);var a={loading:!0,notification:null,stripeAccountLoading:!0,invoicesLoading:!0,renewLicensesStep:null,showRenewLicensesModal:!1,renewLicense:null},r={},o={showRenewLicensesModal:function(e,t){var n=e.commit;n("updateRenewLicensesStep",t),n("updateShowRenewLicensesModal",!0)},displayNotice:function(e,t){var n=e.dispatch;n("displayNotification",{type:"notice",message:t})},displayError:function(e,t){var n=e.dispatch;n("displayNotification",{type:"error",message:t})},displayNotification:function(e,t){var n=e.commit,s=t.type,i=t.message;n("updateNotification",{type:s,message:i}),setTimeout(function(){this.notification=null,n("updateNotification",null)}.bind(this),2e3)}},c={updateStripeAccountLoading:function(e,t){e.stripeAccountLoading=t},updateInvoicesLoading:function(e,t){e.invoicesLoading=t},updateRenewLicensesStep:function(e,t){e.renewLicensesStep=t},updateShowRenewLicensesModal:function(e,t){e.showRenewLicensesModal=t},updateLoading:function(e,t){e.loading=t},updateRenewLicense:function(e,t){e.renewLicense=t},updateNotification:function(e,t){e.notification=t}},l={namespaced:!0,state:a,getters:r,actions:o,mutations:c},d=n("59ad"),u=n.n(d),p=(n("7f7f"),n("4917"),n("795b")),f=n.n(p),h=(n("7514"),n("bc3a")),m=n.n(h),v=n("4328"),g=n.n(v),b={append:function(e,t,n){null===n&&(n=""),e.append(t,n)}},_={savePlugin:function(e,t,n){var s=e.plugin,i=new FormData;for(var a in s)if(null!==s[a]&&void 0!==s[a])switch(a){case"iconId":case"categoryIds":case"screenshots":case"screenshotUrls":case"screenshotIds":for(var r=0;r<s[a].length;r++)b.append(i,a+"[]",s[a][r]);break;case"editions":for(var o=0;o<s[a].length;o++){var c=s[a][o],l=c.id?c.id:"new";b.append(i,"editions["+l+"][price]",c.price),b.append(i,"editions["+l+"][renewalPrice]",c.renewalPrice);for(var d=0;d<c.features.length;d++){var u=c.features[d];b.append(i,"editions["+l+"][features]["+d+"][name]",u.name),b.append(i,"editions["+l+"][features]["+d+"][description]",u.description)}}break;default:b.append(i,a,s[a])}m.a.post(Craft.actionUrl+"/craftnet/plugins/save",i,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},submitPlugin:function(e,t,n){var s={pluginId:e};m.a.post(Craft.actionUrl+"/craftnet/plugins/submit",g.a.stringify(s),{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},generateApiToken:function(e,t){m.a.post(Craft.actionUrl+"/craftnet/id/account/generate-api-token",{},{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(t){return e(t)}).catch(function(e){return t(e.response)})}};s["default"].use(i["a"]);var C={hasApiToken:!1,plugins:[],sales:[]},y={repositoryIsInUse:function(e){return function(t){return e.plugins.find(function(e){return e.repository===t})}},getSaleById:function(e){return function(t){if(e.sales)return e.sales.find(function(e){return e.id==t})}}},w={savePlugin:function(e,t){var n=e.commit,s=t.plugin;return new f.a(function(e,t){_.savePlugin({plugin:s},function(i){i.data.success?(n("savePlugin",{plugin:s,response:i}),e(i)):t(i)},function(e){t(e)})})},submitPlugin:function(e,t){var n=e.commit;return new f.a(function(e,s){_.submitPlugin(t,function(i){i.data.success?(n("submitPlugin",{pluginId:t}),e(i)):s(i)},function(e){s(e)})})},generateApiToken:function(e){var t=e.commit;return new f.a(function(e,n){_.generateApiToken(function(s){s.data&&!s.data.error?(t("updateHasApiToken",{hasApiToken:!!s.data.apiToken}),e(s)):n(s)},function(e){n(e)})})}},x={updatePlugins:function(e,t){var n=t.plugins;e.plugins=n},updateSales:function(e,t){var n=t.sales;e.sales=n},savePlugin:function(e,t){var n=t.plugin,s=t.response,i=!1,a=e.plugins.find(function(e){return e.id==n.pluginId});a||(a={id:s.data.id},i=!0);var r=s.data.iconUrl;r&&(r=r+(r.match(/\?/g)?"&":"?")+Math.floor(1e6*Math.random())),a.siteId=n.siteId,a.pluginId=s.data.id,a.icon=n.icon,a.iconUrl=r,a.iconId=s.data.iconId,a.developerId=n.developerId,a.developerName=n.developerName,a.handle=n.handle,a.packageName=n.packageName,a.name=n.name,a.shortDescription=n.shortDescription,a.longDescription=n.longDescription,a.documentationUrl=n.documentationUrl,a.changelogPath=n.changelogPath,a.repository=n.repository,a.license=n.license,a.keywords=n.keywords;var o=u()(n.price);a.price=o||null;var c=u()(n.renewalPrice);a.renewalPrice=c||null,a.categoryIds=n.categoryIds;var l=[],d=[];if(s.data.screenshots.length>0)for(var p=0;p<s.data.screenshots.length;p++)l.push(s.data.screenshots[p].id),d.push(s.data.screenshots[p].url);a.screenshotIds=l,a.screenshotUrls=d,a.editions=n.editions,i&&e.plugins.push(a)},submitPlugin:function(e,t){var n=t.pluginId,s=e.plugins.find(function(e){return e.id==n});s.pendingApproval=!0},updateHasApiToken:function(e,t){var n=t.hasApiToken;e.hasApiToken=n}},L={namespaced:!0,state:C,getters:y,actions:w,mutations:x},k={disconnectApp:function(e,t,n){var s={appTypeHandle:e};m.a.post(Craft.actionUrl+"/craftnet/id/apps/disconnect",g.a.stringify(s)).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},saveUser:function(e,t,n){var s=new FormData;for(var i in e)switch(i){case"id":b.append(s,"userId",e[i]);break;case"email":case"username":case"firstName":case"lastName":case"password":case"newPassword":case"photo":b.append(s,i,e[i]);break;default:b.append(s,"fields["+i+"]",e[i])}m.a.post(Craft.actionUrl+"/users/save-user",s,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},saveBillingInfo:function(e,t,n){m.a.post(Craft.actionUrl+"/craftnet/id/account/save-billing-info",g.a.stringify(e),{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},uploadUserPhoto:function(e,t,n){var s=new FormData;for(var i in e)b.append(s,i,e[i]);m.a.post(Craft.actionUrl+"/craftnet/id/account/upload-user-photo",s,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},deleteUserPhoto:function(e,t){m.a.post(Craft.actionUrl+"/craftnet/id/account/delete-user-photo",{},{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(t){return e(t)}).catch(function(e){return t(e.response)})},getStripeAccount:function(e,t){m.a.get(window.craftIdUrl+"/stripe/account").then(function(t){return e(t)}).catch(function(e){return t(e.response)})},disconnectStripeAccount:function(e,t){m.a.post(window.craftIdUrl+"/stripe/disconnect").then(function(t){return e(t)}).catch(function(e){return t(e.response)})},saveCard:function(e,t,n){var s={token:e.id};m.a.post(window.craftIdUrl+"/stripe/save-card",g.a.stringify(s)).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},removeCard:function(e,t){m.a.post(window.craftIdUrl+"/stripe/remove-card").then(function(t){return e(t)}).catch(function(e){return t(e.response)})},getInvoices:function(e,t){m.a.get(Craft.actionUrl+"/craftnet/id/account/get-invoices").then(function(t){return e(t)}).catch(function(e){return t(e.response)})}};s["default"].use(i["a"]);var D={apps:{},billingAddress:null,card:null,cardToken:null,currentUser:null,invoices:[],stripeAccount:null,stripeCustomer:null,upcomingInvoice:null},P={userIsInGroup:function(e){return function(t){return e.currentUser.groups.find(function(e){return e.handle===t})}},getInvoiceByNumber:function(e){return function(t){if(e.invoices)return e.invoices.find(function(e){return e.number==t})}}},$={connectAppCallback:function(e,t){var n=e.commit;n("updateApps",{apps:t})},disconnectApp:function(e,t){var n=e.commit;return new f.a(function(e,s){k.disconnectApp(t,function(s){n("disconnectApp",{appHandle:t}),e(s)},function(e){s(e)})})},deleteUserPhoto:function(e){var t=e.commit;return new f.a(function(e,n){k.deleteUserPhoto(function(n){t("deleteUserPhoto",{response:n}),e(n)},function(e){n(e)})})},saveUser:function(e,t){var n=e.commit;return new f.a(function(e,s){k.saveUser(t,function(i){i.data.errors?s(i):(n("saveUser",{user:t,response:i}),e(i))},function(e){s(e)})})},uploadUserPhoto:function(e,t){var n=e.commit;return new f.a(function(e,s){k.uploadUserPhoto(t,function(t){n("uploadUserPhoto",{response:t}),e(t)},function(e){s(e)})})},saveBillingInfo:function(e,t){var n=e.commit;return new f.a(function(e,s){k.saveBillingInfo(t,function(t){t.data.errors?s(t):(n("updateBillingAddress",{billingAddress:t.data.address}),e(t))},function(e){s(e)})})},removeCard:function(e){var t=e.commit;return new f.a(function(e,n){k.removeCard(function(n){t("removeStripeCard"),e(n)},function(e){n(e)})})},saveCard:function(e,t){var n=e.commit;return new f.a(function(e,s){k.saveCard(t,function(t){n("updateStripeCard",{card:t.data.card.card}),e(t)},function(e){s(e)})})},disconnectStripeAccount:function(e){var t=e.commit;return new f.a(function(e,n){k.disconnectStripeAccount(function(n){t("disconnectStripeAccount"),e(n)},function(e){n(e)})})},getStripeAccount:function(e){var t=e.commit;return new f.a(function(e,n){k.getStripeAccount(function(n){t("updateStripeAccount",{response:n}),e(n)},function(e){n(e)})})},getInvoices:function(e){var t=e.commit;return new f.a(function(e,n){k.getInvoices(function(s){s.data&&!s.data.error?(t("updateInvoices",{response:s}),e(s)):n(s)},function(e){n(e)})})}},I={updateApps:function(e,t){var n=t.apps;e.apps=n},disconnectApp:function(e,t){var n=t.appHandle;s["default"].delete(e.apps,n)},uploadUserPhoto:function(e,t){var n=t.response;e.currentUser.photoId=n.data.photoId,e.currentUser.photoUrl=n.data.photoUrl},deleteUserPhoto:function(e,t){var n=t.response;e.currentUser.photoId=n.data.photoId,e.currentUser.photoUrl=n.data.photoUrl},saveUser:function(e,t){var n=t.user;for(var s in n)if("id"!==s&&"email"!==s&&(e.currentUser[s]=n[s],n.enablePluginDeveloperFeatures)){var i=e.currentUser.groups.find(function(e){return"developers"===e.handle});i||e.currentUser.groups.push({id:1,name:"Developers",handle:"developers"})}},updateBillingAddress:function(e,t){var n=t.billingAddress;e.billingAddress=n},updateCard:function(e,t){var n=t.card;e.card=n},updateCardToken:function(e,t){var n=t.cardToken;e.cardToken=n},updateCurrentUser:function(e,t){var n=t.currentUser;e.currentUser=n},removeStripeCard:function(e){e.card=null},updateStripeCard:function(e,t){var n=t.card;e.card=n},disconnectStripeAccount:function(e){e.stripeAccount=null},updateStripeAccount:function(e,t){var n=t.response;e.stripeAccount=n.data},updateInvoices:function(e,t){var n=t.response;e.invoices=n.data},updateUpcomingInvoice:function(e,t){var n=t.upcomingInvoice;e.upcomingInvoice=n}},S={namespaced:!0,state:D,getters:P,actions:$,mutations:I},E=n("6ee6"),T=(n("ac6a"),{claimCmsLicense:function(e,t,n){var s={key:e};m.a.post(Craft.actionUrl+"/craftnet/id/cms-licenses/claim",g.a.stringify(s),{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},claimCmsLicenseFile:function(e,t,n){var s=new FormData;b.append(s,"licenseFile",e),m.a.post(Craft.actionUrl+"/craftnet/id/cms-licenses/claim",s,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},claimLicensesByEmail:function(e,t,n){var s={email:e};m.a.post(Craft.actionUrl+"/craftnet/id/claim-licenses",g.a.stringify(s),{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},claimPluginLicense:function(e,t,n){var s={key:e};m.a.post(Craft.actionUrl+"/craftnet/id/plugin-licenses/claim",g.a.stringify(s),{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},getCmsLicenses:function(e,t){m.a.get(Craft.actionUrl+"/craftnet/id/cms-licenses/get-licenses").then(function(t){return e(t)}).catch(function(e){return t(e.response)})},getPluginLicenses:function(e,t){m.a.get(Craft.actionUrl+"/craftnet/id/plugin-licenses/get-licenses").then(function(t){return e(t)}).catch(function(e){return t(e.response)})},releaseCmsLicense:function(e,t,n){var s={key:e};m.a.post(Craft.actionUrl+"/craftnet/id/cms-licenses/release",g.a.stringify(s),{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},releasePluginLicense:function(e,t,n){var s=e.pluginHandle,i=e.licenseKey,a={handle:s,key:i};m.a.post(Craft.actionUrl+"/craftnet/id/plugin-licenses/release",g.a.stringify(a),{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},saveCmsLicense:function(e,t,n){var s=e;m.a.post(Craft.actionUrl+"/craftnet/id/cms-licenses/save",g.a.stringify(s),{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})},savePluginLicense:function(e,t,n){var s={};for(var i in e)"cmsLicense"!==i&&(s[i]=e[i]);m.a.post(Craft.actionUrl+"/craftnet/id/plugin-licenses/save",g.a.stringify(s),{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(e){return n(e.response)})}});s["default"].use(i["a"]),s["default"].use(n("2ead"));var O=new s["default"],A={cmsLicenses:[],pluginLicenses:[]},N={expiresSoon:function(){return function(e){if(!e.expiresOn)return!1;var t=new Date,n=new Date;n.setDate(t.getDate()+45);var s=new Date(e.expiresOn.date);return n>s}},daysBeforeExpiry:function(){return function(e){var t=new Date,n=new Date(e.expiresOn.date),s=n.getTime()-t.getTime(),i=Math.round(s/864e5);return i}},expiringCmsLicenses:function(e,t){return e.cmsLicenses.filter(function(e){return!e.expired&&(!e.autoRenew&&t.expiresSoon(e))})},expiringPluginLicenses:function(e,t){return e.pluginLicenses.filter(function(e){return!e.expired&&(!e.autoRenew&&t.expiresSoon(e))})},renewableLicenses:function(e){return function(t,n){var s=[],i=t.expiresOn.date;t.expired&&(i=new Date);var a=O.$moment(i);if(a=a.add(n,"years"),s.push({type:"cms-renewal",key:t.key,description:"Craft "+t.editionDetails.name,expiresOn:t.expiresOn,newBaseExpiresOn:i,newExpiresOn:a.format(),edition:t.editionDetails}),t.pluginLicenses.length>0){var r=e.pluginLicenses.filter(function(e){if(e.cmsLicenseId!==t.id)return!1;if(!e.expiresOn)return!1;if(!e.expired){var n=O.$moment(e.expiresOn.date);if(n>a)return!1}return!0});r.forEach(function(e){var t=i,n=a;s.push({type:"plugin-renewal",key:e.key,description:e.plugin.name,expiresOn:e.expiresOn,newBaseExpiresOn:t,newExpiresOn:n.format(),edition:e.edition})})}return s}},newExpiresOn:function(){return function(e,t){var n=O.$moment(e.expiresOn.date);return n.add(t,"years")}},renewableLicensesTotal:function(e,t){var n=this;return function(e,s,i){var a=0,r=t.renewableLicenses(e,s);return r.forEach(function(e,t){var n=i[t];if(n){var s=O.$moment(e.newExpiresOn).diff(e.newBaseExpiresOn.date,"years",!0);a+=s*e.edition.renewalPrice}}.bind(n)),a}}},j={claimCmsLicense:function(e,t){return Object(E["a"])(e),new f.a(function(e,n){T.claimCmsLicense(t,function(t){t.data&&!t.data.error?e(t):n(t)},function(e){n(e)})})},claimCmsLicenseFile:function(e,t){return Object(E["a"])(e),new f.a(function(e,n){T.claimCmsLicenseFile(t,function(t){t.data&&!t.data.error?e(t):n(t)},function(e){n(e)})})},claimLicensesByEmail:function(e,t){return Object(E["a"])(e),new f.a(function(e,n){T.claimLicensesByEmail(t,function(t){t.data&&!t.data.error?e(t):n(t)},function(e){n(e)})})},claimPluginLicense:function(e,t){return Object(E["a"])(e),new f.a(function(e,n){T.claimPluginLicense(t,function(t){t.data&&!t.data.error?e(t):n(t)},function(e){n(e)})})},getCmsLicenses:function(e){var t=e.commit;return new f.a(function(e,n){T.getCmsLicenses(function(s){s.data&&!s.data.error?(t("updateCmsLicenses",{cmsLicenses:s.data}),e(s)):n(s)},function(e){n(e)})})},getPluginLicenses:function(e){var t=e.commit;return new f.a(function(e,n){T.getPluginLicenses(function(s){s.data&&!s.data.error?(t("updatePluginLicenses",{pluginLicenses:s.data}),e(s)):n(s)},function(e){n(e)})})},releaseCmsLicense:function(e,t){var n=e.commit;return new f.a(function(e,s){T.releaseCmsLicense(t,function(i){i.data&&!i.data.error?(n("releaseCmsLicense",{licenseKey:t}),e(i)):s(i)},function(e){s(e)})})},releasePluginLicense:function(e,t){var n=e.commit,s=t.pluginHandle,i=t.licenseKey;return new f.a(function(e,t){T.releasePluginLicense({pluginHandle:s,licenseKey:i},function(s){s.data&&!s.data.error?(n("releasePluginLicense",{licenseKey:i}),e(s)):t(s)},function(e){t(e)})})},saveCmsLicense:function(e,t){var n=e.commit;return new f.a(function(e,s){T.saveCmsLicense(t,function(t){t.data&&!t.data.error?(n("saveCmsLicense",{license:t.data.license}),e(t)):s(t)},function(e){s(e)})})},savePluginLicense:function(e,t){var n=e.commit;return new f.a(function(e,s){T.savePluginLicense(t,function(i){i.data&&!i.data.error?(n("savePluginLicense",{license:t}),e(i)):s(i)},function(e){s(e)})})}},U={updateCmsLicenses:function(e,t){var n=t.cmsLicenses;e.cmsLicenses=n},updatePluginLicenses:function(e,t){var n=t.pluginLicenses;e.pluginLicenses=n},releaseCmsLicense:function(e,t){var n=t.licenseKey;e.cmsLicenses.find(function(e,t,s){return e.key===n&&(s.splice(t,1),!0)})},releasePluginLicense:function(e,t){var n=t.licenseKey;e.pluginLicenses.find(function(e,t,s){return e.key===n&&(s.splice(t,1),!0)})},saveCmsLicense:function(e,t){var n=t.license,s=e.cmsLicenses.find(function(e){return e.key==n.key});for(var i in n)switch(i){case"autoRenew":s[i]=1===n[i]||"1"===n[i];break;default:s[i]=n[i]}},savePluginLicense:function(e,t){var n=t.license,s=e.pluginLicenses.find(function(e){return e.key==n.key});for(var i in n)switch(i){case"autoRenew":s[i]=1===n[i]||"1"===n[i];break;default:s[i]=n[i]}}},R={namespaced:!0,state:A,getters:N,actions:j,mutations:U},M={getCraftIdData:function(e,t){return m.a.post(Craft.actionUrl+"/craftnet/id/craft-id").then(function(t){return e(t)}).catch(function(e){return t(e.response)})}};s["default"].use(i["a"]);var F={categories:[],countries:[]},B={countryOptions:function(e){var t=[];for(var n in e.countries)e.countries.hasOwnProperty(n)&&t.push({label:e.countries[n].name,value:n});return t},stateOptions:function(e){return function(t){var n=[];if(!e.countries[t]||e.countries[t]&&!e.countries[t].states)return[];var s=e.countries[t].states;for(var i in s)s.hasOwnProperty(i)&&n.push({label:s[i],value:i});return n}},userIsInGroup:function(e){return function(t){return e.currentUser.groups.find(function(e){return e.handle===t})}}},V={getCraftIdData:function(e){var t=e.commit;return new f.a(function(e,n){M.getCraftIdData(function(n){t("updateCategories",{categories:n.data.categories}),t("updateCountries",{countries:n.data.countries}),t("developers/updateHasApiToken",{hasApiToken:n.data.currentUser.hasApiToken},{root:!0}),t("developers/updatePlugins",{plugins:n.data.plugins},{root:!0}),t("developers/updateSales",{sales:n.data.sales},{root:!0}),t("licenses/updateCmsLicenses",{cmsLicenses:n.data.cmsLicenses},{root:!0}),t("licenses/updatePluginLicenses",{pluginLicenses:n.data.pluginLicenses},{root:!0}),t("account/updateUpcomingInvoice",{upcomingInvoice:n.data.upcomingInvoice},{root:!0}),t("account/updateApps",{apps:n.data.apps},{root:!0}),t("account/updateCurrentUser",{currentUser:n.data.currentUser},{root:!0}),t("account/updateBillingAddress",{billingAddress:n.data.billingAddress},{root:!0}),t("account/updateCard",{card:n.data.card},{root:!0}),t("account/updateCardToken",{cardToken:n.data.cardToken},{root:!0}),e(n)},function(e){n(e)})})}},q={updateCategories:function(e,t){var n=t.categories;e.categories=n},updateCountries:function(e,t){var n=t.countries;e.countries=n}},z={namespaced:!0,state:F,getters:B,actions:V,mutations:q},K={_axios:null,axios:function(){return this._axios||(this._axios=m.a.create({baseURL:"https://api.craftcms.test/v1/"})),this._axios},getCart:function(e,t,n){this.axios().get("carts/"+e).then(function(e){return t(e.data)}).catch(function(e){return n(e)})},createCart:function(e,t,n){this.axios().post("carts",e).then(function(e){return t(e.data)}).catch(function(e){return n(e)})},updateCart:function(e,t,n,s){t.items&&t.items.forEach(function(e){e.cmsLicenseKey||delete e["cmsLicenseKey"]}),this.axios().post("carts/"+e,t).then(function(e){return n(e.data)}).catch(function(e){return s(e)})},checkout:function(e){return this.axios().post("payments",e,{withCredentials:!0})},resetOrderNumber:function(){localStorage.removeItem("orderNumber")},saveOrderNumber:function(e){localStorage.setItem("orderNumber",e)},getOrderNumber:function(e){var t=localStorage.getItem("orderNumber");return e(t)}},X={getCartItemsData:function(e){for(var t=[],n=0;n<e.lineItems.length;n++){var s=e.lineItems[n];switch(s.purchasable.type){case"plugin-edition":t.push({type:s.purchasable.type,plugin:s.purchasable.plugin.handle,edition:s.purchasable.handle,autoRenew:s.options.autoRenew,cmsLicenseKey:s.options.cmsLicenseKey});break;case"cms-edition":t.push({type:s.purchasable.type,edition:s.purchasable.handle,licenseKey:s.options.licenseKey,autoRenew:s.options.autoRenew});break;case"cms-renewal":case"plugin-renewal":t.push({type:s.purchasable.type,licenseKey:s.options.licenseKey,expiryDate:s.options.expiryDate});break}}return t}};s["default"].use(i["a"]);var G={cart:null},W={cartTotal:function(){return 0},cartTotalItems:function(e){return e.cart&&e.cart.lineItems?e.cart.lineItems.length:0},cartItems:function(e,t,n){var s=[];if(e.cart){var i=e.cart.lineItems;i.forEach(function(e){var t={};t.lineItem=e,"plugin-edition"===e.purchasable.type&&(t.plugin=n.pluginStore.plugins.find(function(t){return t.handle===e.purchasable.plugin.handle})),s.push(t)})}return s}},H={getCart:function(e){var t=e.dispatch,n=e.commit,s=e.rootState,i=e.state;return new f.a(function(e,a){i.cart?e():t("getOrderNumber").then(function(i){if(i)K.getCart(i,function(i){if(i.error){var r={email:s.account.currentUser.email};K.createCart(r,function(s){n("updateCart",{response:s}),t("saveOrderNumber",{orderNumber:s.cart.number}),e(i)},function(e){a(e)})}else n("updateCart",{response:i}),e(i)},function(i){if(i.response.data.message&&"Cart Already Completed"===i.response.data.message){var r={email:s.account.currentUser.email};K.createCart(r,function(s){n("updateCart",{response:s}),t("saveOrderNumber",{orderNumber:s.cart.number}),e(i)},function(e){a(e)})}else a(i)});else{var r={email:s.account.currentUser.email};K.createCart(r,function(s){n("updateCart",{response:s}),t("saveOrderNumber",{orderNumber:s.cart.number}),e(s)},function(e){a(e)})}})})},saveCart:function(e,t){var n=e.commit,s=e.state;return new f.a(function(e,i){var a=s.cart;K.updateCart(a.number,t,function(t){t.errors?i(t):(n("updateCart",{response:t}),e(t))},function(e){i(e)})})},resetCart:function(e){var t=e.commit,n=e.dispatch;return new f.a(function(e,s){t("resetCart"),n("resetOrderNumber"),n("getCart").then(function(t){e(t)}).catch(function(e){s(e)})})},resetOrderNumber:function(){K.resetOrderNumber()},checkout:function(e,t){return Object(E["a"])(e),new f.a(function(e,n){K.checkout(t).then(function(t){e(t)}).catch(function(e){n(e)})})},getOrderNumber:function(e){var t=e.state;return new f.a(function(e,n){if(t.cart&&t.cart.number){var s=t.cart.number;e(s)}else K.getOrderNumber(function(t){e(t)},function(e){n(e)})})},saveOrderNumber:function(e,t){Object(E["a"])(e);var n=t.orderNumber;K.saveOrderNumber(n)},addToCart:function(e,t){var n=e.commit,s=e.state,i=e.dispatch;return new f.a(function(e,a){i("getCart").then(function(){var i=s.cart,r=X.getCartItemsData(i);t.forEach(function(e){r.push(e)});var o={items:r};K.updateCart(i.number,o,function(t){n("updateCart",{response:t}),e(t)},function(e){a(e)})}).catch(a)})},removeFromCart:function(e,t){var n=e.commit,s=e.dispatch;return new f.a(function(e,i){s("getCart").then(function(){var s=G.cart,a=X.getCartItemsData(s);a.splice(t,1);var r={items:a};K.updateCart(s.number,r,function(t){n("updateCart",{response:t}),e(t)},function(e){i(e)})}).catch(i)})}},Q={updateCart:function(e,t){var n=t.response;e.cart=n.cart,e.stripePublicKey=n.stripePublicKey},resetCart:function(e){e.cart=null}},Y={namespaced:!0,state:G,getters:W,actions:H,mutations:Q};s["default"].use(i["a"]);var J,Z={categories:[],featuredPlugins:[],plugins:[],pluginStoreDataLoaded:!1,expiryDateOptions:[]},ee={getPluginByHandle:function(e){return function(t){return e.plugins.find(function(e){return e.handle===t})}}},te={getPluginStoreData:function(e){var t=e.commit,n=e.state;return new f.a(function(e,s){n.pluginStoreDataLoaded?e():m.a.get("https://api.craftcms.test/v1/plugin-store",{withCredentials:!1}).then(function(n){t("updatePluginStoreData",{response:n}),e()}).catch(s)})}},ne={updatePluginStoreData:function(e,t){var n=t.response;e.categories=n.data.categories,e.featuredPlugins=n.data.featuredPlugins,e.plugins=n.data.plugins,e.expiryDateOptions=n.data.expiryDateOptions,e.pluginStoreDataLoaded=!0}},se={namespaced:!0,state:Z,getters:ee,actions:te,mutations:ne},ie=n("bd86"),ae="RECEIVE_PARTNER",re="RECEIVE_PARTNER_LOCATIONS",oe="RECEIVE_PARTNER_PROJECTS",ce={getPartner:function(e,t){m.a.post(Craft.actionUrl+"/craftnet/partners/fetch-partner",null,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(t){return e(t)}).catch(function(e){return t(e.response)})},patchPartner:function(e,t,n,s,i){var a=new FormData;for(var r in a.append("scenario","scenarioBaseInfo"),a.append("id",n),console.warn("api patchPartner()",t),e)switch(r){case"capabilities":for(var o=0;o<e[r].length;o++)a.append(r+"[]",e[r][o]);break;default:a.append(r,e[r]);break}a.append("logoAssetId[]",e.logo.id),t.length&&a.append("logo",t[0]),m.a.post(Craft.actionUrl+"/craftnet/partners/patch-partner",a,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return s(e)}).catch(function(e){return i(e.response)})},patchPartnerLocations:function(e,t,n,s){var i=new FormData;i.append("id",t),i.append("scenario","scenarioLocations"),e.forEach(function(e){for(var t in e)"id"!==t&&i.append("locations[".concat(e.id,"][").concat(t,"]"),e[t])}),m.a.post(Craft.actionUrl+"/craftnet/partners/patch-partner",i,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return n(e)}).catch(function(e){return s(e.response)})},patchPartnerProjects:function(e,t,n,s){var i=new FormData;for(var a in i.append("id",t),i.append("scenario","scenarioProjects"),e){var r=e[a];for(var o in r)"id"!==o&&"screenshots"!==o&&i.append("projects[".concat(r.id,"][").concat(o,"]"),r[o]);for(var c in r.screenshots)i.append("projects[".concat(r.id,"][screenshots][]"),r.screenshots[c]["id"])}m.a.post(Craft.actionUrl+"/craftnet/partners/patch-partner",i,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return n(e)}).catch(function(e){return s(e.response)})}};s["default"].use(i["a"]);var le={partner:null},de={showPartnerFeatures:function(e){return e.enablePartnerFeatures}},ue={initPartner:function(e){var t=e.commit,n=e.state;return new f.a(function(e,s){n.partner?e({data:{partner:n.partner}}):ce.getPartner(function(n){n.data&&!n.data.error?(t(ae,n.data.partner),e(n)):s(n)},function(e){s(e)})})},patchPartner:function(e,t){var n=e.commit,s=e.state,i=t.draft,a=t.files;return console.warn("store patchPartner()",a),console.warn("store patchPartner() partnerId",s.partner.id),new f.a(function(e,t){ce.patchPartner(i,a,s.partner.id,function(t){t.data.success&&n(ae,t.data.partner),e(t)},function(e){e.data&&t(e.data.error),t(e.statusText)})})},patchPartnerLocations:function(e,t){var n=e.commit,s=e.state;return new f.a(function(e,i){ce.patchPartnerLocations(t,s.partner.id,function(t){t.data.success&&n(re,t.data.partner.locations),e(t)},function(e){i(e.statusText)})})},patchPartnerProjects:function(e,t){var n=e.commit,s=e.state;return new f.a(function(e,i){ce.patchPartnerProjects(t,s.partner.id,function(t){t.data.success&&n(oe,t.data.partner.projects),e(t)},function(e){i(e.statusText)})})}},pe=(J={},Object(ie["a"])(J,ae,function(e,t){e.partner=t}),Object(ie["a"])(J,re,function(e,t){e.partner.locations=t}),Object(ie["a"])(J,oe,function(e,t){e.partner.projects=t}),J),fe={state:le,getters:de,actions:ue,mutations:pe};s["default"].use(i["a"]);var he=new i["a"].Store({strict:!0,modules:{app:l,craftId:z,account:S,developers:L,licenses:R,cart:Y,pluginStore:se,partner:fe}}),me=(n("a481"),/(\d{3})(?=\d)/g);function ve(e,t,n){if(e=u()(e),!isFinite(e)||!e&&0!==e)return"";t=null!=t?t:"$",n=null!=n?n:2;var s=Math.abs(e).toFixed(n),i=n?s.slice(0,-1-n):s,a=i.length%3,r=a>0?i.slice(0,a)+(i.length>3?",":""):"",o=n?s.slice(-1-n):"",c=e<0?"-":"";return c+t+r+i.slice(a).replace(me,"$1,")+o}function ge(e){var t=e.replace(/(\r\n|\n|\r)/gm,""),n=[];t.length>0&&n.push(t.substr(0,50)),t.length>50&&n.push(t.substr(50,50)),t.length>100&&n.push(t.substr(100,50)),t.length>150&&n.push(t.substr(150,50)),t.length>200&&n.push(t.substr(200,50)),t.length>250&&n.push(t.substr(250));for(var s="",i=0;i<n.length;i++)s+=n[i],i<n.length-1&&(s+="\r\n");return s}function be(e){var t=[];t.push(e.substr(0,4)),t.push(e.substr(4,4)),t.push(e.substr(8,4)),t.push(e.substr(12,4)),t.push(e.substr(16,4)),t.push(e.substr(20));for(var n="",s=0;s<t.length;s++)n+=t[s],s<t.length-1&&(n+="-");return n}n("6b54");function _e(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}var Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("auth-manager",{ref:"authManager"}),e.showRenewLicensesModal?n("renew-licenses-modal",{attrs:{license:e.renewLicense},on:{cancel:function(t){e.$store.commit("app/updateShowRenewLicensesModal",!1)}}}):e._e(),e.notification?[n("div",{class:{hide:!e.notification},attrs:{id:"notifications-wrapper"}},[n("div",{attrs:{id:"notifications"}},[n("div",{staticClass:"notification",class:e.notification.type},[e._v(e._s(e.notification.message))])])])]:e._e(),e.loading?[n("div",{staticClass:"text-center"},[n("spinner",{attrs:{big:"",cssClass:"mt-8"}})],1)]:[n(e.layout,{tag:"component"})]],2)},ye=[],we=n("cebc"),xe=n("8c4f"),Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Billing")]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-body"},[n("billing-payment")],1)]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-body"},[n("billing-address-form")],1)]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-body"},[n("billing-invoice-details")],1)]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Upcoming Invoice")]),n("invoices-table",{attrs:{invoices:[e.upcomingInvoice],upcoming:!0}})],1)]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Invoices")]),e.invoicesLoading?n("spinner"):[e.invoices&&e.invoices.length>0?n("invoices-table",{attrs:{invoices:e.invoices}}):n("p",{staticClass:"text-secondary"},[e._v("No invoices.")])]],2)])])},ke=[],De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-1"},[n("h4",[e._v("Payment")]),e.editing?e._e():n("div",[e.card?n("div",{staticClass:"credit-card"},[n("card-icon",{attrs:{brand:e.card.brand}}),n("ul",{staticClass:"list-reset"},[n("li",[e._v("Number: •••• •••• •••• "+e._s(e.card.last4))]),n("li",[e._v("Expiry: "+e._s(e.card.exp_month)+"/"+e._s(e.card.exp_year))])])],1):n("p",{staticClass:"text-secondary"},[e._v("Credit card not defined.")])]),n("div",{class:{hidden:!e.editing}},[n("card-form",{attrs:{loading:e.cardFormloading},on:{error:e.error,beforeSave:e.beforeSave,save:e.saveCard,cancel:e.cancel}})],1),e._m(0)]),e.editing?e._e():n("div",{staticClass:"pl-4"},[n("p",[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-facebox":"#billing-contact-info-modal"},on:{click:function(t){e.editing=!0}}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v("\n                    New Card\n                ")],1)]),e.card?n("p",[n("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(t){e.removeCard()}}},[n("font-awesome-icon",{attrs:{icon:"times"}}),e._v("\n                    Remove\n                ")],1),e.removeCardLoading?n("spinner"):e._e()],1):e._e()])])])},Pe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3"},[s("img",{attrs:{src:n("ae00"),height:"18"}})])}],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(t){t.preventDefault(),e.save()}}},[n("div",{ref:"cardElement",staticClass:"card-element form-control mb-3"}),n("p",{staticClass:"text-red",attrs:{id:"card-errors",role:"alert"}}),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save"}}),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){e.cancel()}}},[e._v("\n        Cancel\n    ")]),e.loading?n("spinner"):e._e()],1)},Ie=[],Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner",class:e.computedClass})},Ee=[],Te=(n("28a5"),n("7618")),Oe=(n("9c86"),{props:["big","cssClass"],computed:{computedClass:function(){var e={big:"undefined"!==typeof this.big};if("object"===Object(Te["a"])(this.cssClass))e=Object(we["a"])({},e,this.cssClass);else if("string"===typeof this.cssClass)for(var t=this.cssClass.split(" "),n=0;n<t.length;n++)e[t[n]]=!0;return e}}}),Ae=Oe,Ne=(n("231f"),n("2877")),je=Object(Ne["a"])(Ae,Se,Ee,!1,null,null,null);je.options.__file="Spinner.vue";var Ue=je.exports,Re={props:["loading"],components:{Spinner:Ue},methods:{save:function(){this.$emit("beforeSave");var e=this;this.stripe.createSource(this.card).then(function(t){if(t.error){var n=document.getElementById("card-errors");n.textContent=t.error.message,e.$emit("error",t.error)}else e.$emit("save",e.card,t.source)})},cancel:function(){this.card.clear();var e=document.getElementById("card-errors");e.textContent="",this.$emit("cancel")}},mounted:function(){this.stripe=Stripe(window.stripePublicKey),this.elements=this.stripe.elements({locale:"en"}),this.card=this.elements.create("card",{hidePostalCode:!0});var e=document.createElement("div");this.card.mount(e),this.$refs.cardElement.appendChild(e)}},Me=Re,Fe=(n("b6d9"),Object(Ne["a"])(Me,$e,Ie,!1,null,"5af1cdb8",null));Fe.options.__file="CardForm.vue";var Be=Fe.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.cardType?n("div",{staticClass:"card-icon"},[n("img",{attrs:{src:e.staticImageUrl("cards/"+e.cardType+".svg"),height:"20"}})]):e._e()},qe=[],ze=n("635e"),Ke={mixins:[ze["a"]],props:["brand"],computed:{cardType:function(){switch(this.brand){case"Visa":return"visa";case"American Express":return"amex";case"MasterCard":return"mastercard";case"Discover":return"discover";case"JCB":return"jcb";case"Diners Club":return"diners"}}}},Xe=Ke,Ge=(n("bc92"),Object(Ne["a"])(Xe,Ve,qe,!1,null,null,null));Ge.options.__file="CardIcon.vue";var We=Ge.exports,He={mixins:[ze["a"]],components:{CardForm:Be,CardIcon:We,Spinner:Ue},data:function(){return{editing:!1,cardFormloading:!1,removeCardLoading:!1}},computed:Object(we["a"])({},Object(i["d"])({card:function(e){return e.account.card}})),methods:{saveCard:function(e,t){var n=this;this.$store.dispatch("account/saveCard",t).then(function(){e.clear(),n.cardFormloading=!1,n.editing=!1,n.$store.dispatch("app/displayNotice","Card saved.")})},removeCard:function(){var e=this;this.removeCardLoading=!0,this.$store.dispatch("account/removeCard").then(function(){e.removeCardLoading=!1,e.$store.dispatch("app/displayNotice","Card removed.")})},beforeSave:function(){this.cardFormloading=!0},cancel:function(){this.editing=!1},error:function(){this.cardFormloading=!1}}},Qe=He,Ye=(n("5455"),Object(Ne["a"])(Qe,De,Pe,!1,null,null,null));Ye.options.__file="BillingPayment.vue";var Je=Ye.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-1"},[n("h4",[e._v("Invoice details")]),e.showForm?e._e():n("dl",[n("dt",[e._v("VAT ID")]),n("dd",[e.billingAddress&&e.billingAddress.businessTaxId?[e._v("\n                        "+e._s(e.billingAddress.businessTaxId)+"\n                    ")]:[n("span",{staticClass:"text-secondary"},[e._v("VAT ID not defined.")])]],2)])]),e.showForm?e._e():n("div",[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-facebox":"#billing-contact-info-modal"},on:{click:function(t){e.editInvoiceDetails()}}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),e._v("\n                Edit\n            ")],1)])]),e.showForm?n("form",{on:{submit:function(t){t.preventDefault(),e.save()}}},[n("text-field",{attrs:{id:"businessTaxId",label:"Tax ID",errors:e.errors.businessTaxId},model:{value:e.invoiceDetailsDraft.businessTaxId,callback:function(t){e.$set(e.invoiceDetailsDraft,"businessTaxId",t)},expression:"invoiceDetailsDraft.businessTaxId"}}),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save"}}),n("input",{staticClass:"btn btn-secondary",attrs:{type:"button",value:"Cancel"},on:{click:function(t){e.cancel()}}})],1):e._e()])},et=[],tt=n("5176"),nt=n.n(tt),st=n("f499"),it=n.n(st),at={data:function(){return{errors:{},showForm:!1,invoiceDetailsDraft:{}}},computed:Object(we["a"])({},Object(i["d"])({currentUser:function(e){return e.account.currentUser},billingAddress:function(e){return e.account.billingAddress}})),methods:{editInvoiceDetails:function(){this.showForm=!0,this.billingAddress&&(this.invoiceDetailsDraft=JSON.parse(it()(this.billingAddress)))},save:function(){var e=this,t={businessTaxId:this.invoiceDetailsDraft.businessTaxId};this.billingAddress&&(t=nt()({},t,{id:this.billingAddress.id,firstName:this.billingAddress.firstName,lastName:this.billingAddress.lastName,businessName:this.billingAddress.businessName,address1:this.billingAddress.address1,address2:this.billingAddress.address2,city:this.billingAddress.city,state:this.billingAddress.state,zipCode:this.billingAddress.zipCode,country:this.billingAddress.country})),this.$store.dispatch("account/saveBillingInfo",t).then(function(t){if(t.data.error){var n=t.data.error;e.$store.dispatch("app/displayError",n)}else e.$store.dispatch("app/displayNotice","Invoice details saved."),e.showForm=!1,e.errors={}}).catch(function(t){var n=t.data&&t.data.error?t.data.error:"Couldn’t save invoice details.";e.$store.dispatch("app/displayError",n),e.errors=t.data&&t.data.errors?t.data.errors:{}})},cancel:function(){this.showForm=!1,this.errors={}}}},rt=at,ot=Object(Ne["a"])(rt,Ze,et,!1,null,null,null);ot.options.__file="BillingInvoiceDetails.vue";var ct=ot.exports,lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-1"},[n("h4",[e._v("Billing Address")]),!e.showForm&&e.billingAddress?[e.billingAddress.firstName||e.billingAddress.lastName||e.billingAddress.address1||e.billingAddress.address2||e.billingAddress.city||e.billingAddress.country||e.billingAddress.businessName||e.billingAddress.state||e.billingAddress.zipCode?n("ul",{staticClass:"list-reset"},[e.billingAddress.firstName||e.billingAddress.lastName?n("li",[e._v(e._s(e.billingAddress.firstName)+" "+e._s(e.billingAddress.lastName))]):e._e(),e.billingAddress.businessName?n("li",[e._v(e._s(e.billingAddress.businessName))]):e._e(),e.billingAddress.address1?n("li",[e._v(e._s(e.billingAddress.address1))]):e._e(),e.billingAddress.address2?n("li",[e._v(e._s(e.billingAddress.address2))]):e._e(),e.billingAddress.zipCode||e.billingAddress.city?n("li",[e.billingAddress.zipCode?[e._v(e._s(e.billingAddress.zipCode))]:e._e(),e.billingAddress.city?[e._v(e._s(e.billingAddress.city))]:e._e()],2):e._e(),e.billingAddress.countryText?n("li",[e._v(e._s(e.billingAddress.countryText))]):e._e(),e.billingAddress.state?n("li",[e._v(e._s(e.billingAddress.state))]):e._e()]):n("p",{staticClass:"text-secondary"},[e._v("Billing address not defined.")])]:e._e()],2),e.showForm?e._e():n("div",[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-facebox":"#billing-contact-info-modal"},on:{click:function(t){e.edit()}}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),e._v("\n                Edit\n            ")],1)])]),e.showForm?n("form",{on:{submit:function(t){t.preventDefault(),e.save()}}},[n("text-field",{attrs:{id:"firstName",label:"First Name",errors:e.errors.firstName},model:{value:e.invoiceDetailsDraft.firstName,callback:function(t){e.$set(e.invoiceDetailsDraft,"firstName",t)},expression:"invoiceDetailsDraft.firstName"}}),n("text-field",{attrs:{id:"lastName",label:"Last Name",errors:e.errors.lastName},model:{value:e.invoiceDetailsDraft.lastName,callback:function(t){e.$set(e.invoiceDetailsDraft,"lastName",t)},expression:"invoiceDetailsDraft.lastName"}}),n("text-field",{attrs:{id:"businessName",label:"Business Name",errors:e.errors.businessName},model:{value:e.invoiceDetailsDraft.businessName,callback:function(t){e.$set(e.invoiceDetailsDraft,"businessName",t)},expression:"invoiceDetailsDraft.businessName"}}),n("text-field",{attrs:{id:"address1",label:"Address Line 1",errors:e.errors.address1},model:{value:e.invoiceDetailsDraft.address1,callback:function(t){e.$set(e.invoiceDetailsDraft,"address1",t)},expression:"invoiceDetailsDraft.address1"}}),n("text-field",{attrs:{id:"address2",label:"Address Line 2",errors:e.errors.address2},model:{value:e.invoiceDetailsDraft.address2,callback:function(t){e.$set(e.invoiceDetailsDraft,"address2",t)},expression:"invoiceDetailsDraft.address2"}}),n("text-field",{attrs:{id:"city",label:"City",errors:e.errors.city},model:{value:e.invoiceDetailsDraft.city,callback:function(t){e.$set(e.invoiceDetailsDraft,"city",t)},expression:"invoiceDetailsDraft.city"}}),n("select-field",{attrs:{id:"country",label:"Country",options:e.countryOptions},on:{input:e.onCountryChange},model:{value:e.invoiceDetailsDraft.country,callback:function(t){e.$set(e.invoiceDetailsDraft,"country",t)},expression:"invoiceDetailsDraft.country"}}),n("select-field",{attrs:{id:"state",label:"State",options:e.stateOptions(e.invoiceDetailsDraft.country)},model:{value:e.invoiceDetailsDraft.state,callback:function(t){e.$set(e.invoiceDetailsDraft,"state",t)},expression:"invoiceDetailsDraft.state"}}),n("text-field",{attrs:{id:"zipCode",label:"Zip Code",errors:e.errors.zipCode},model:{value:e.invoiceDetailsDraft.zipCode,callback:function(t){e.$set(e.invoiceDetailsDraft,"zipCode",t)},expression:"invoiceDetailsDraft.zipCode"}}),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save"}}),n("input",{staticClass:"btn btn-secondary",attrs:{type:"button",value:"Cancel"},on:{click:function(t){e.cancel()}}})],1):e._e()])},dt=[],ut={data:function(){return{errors:{},showForm:!1,invoiceDetailsDraft:{}}},computed:Object(we["a"])({},Object(i["d"])({currentUser:function(e){return e.account.currentUser},billingAddress:function(e){return e.account.billingAddress},countries:function(e){return e.craftId.countries}}),Object(i["c"])({countryOptions:"craftId/countryOptions",stateOptions:"craftId/stateOptions"})),methods:{edit:function(){this.showForm=!0,this.billingAddress&&(this.invoiceDetailsDraft=JSON.parse(it()(this.billingAddress)))},save:function(){var e=this,t={firstName:this.invoiceDetailsDraft.firstName,lastName:this.invoiceDetailsDraft.lastName,businessName:this.invoiceDetailsDraft.businessName,address1:this.invoiceDetailsDraft.address1,address2:this.invoiceDetailsDraft.address2,city:this.invoiceDetailsDraft.city,state:this.invoiceDetailsDraft.state,zipCode:this.invoiceDetailsDraft.zipCode,country:this.invoiceDetailsDraft.country};this.billingAddress&&(t=nt()({},t,{id:this.billingAddress.id,businessTaxId:this.billingAddress.businessTaxId})),this.$store.dispatch("account/saveBillingInfo",t).then(function(t){if(t.data.error){var n=t.data.error;e.$store.dispatch("app/displayError",n)}else e.$store.dispatch("app/displayNotice","Billing address saved."),e.showForm=!1,e.errors={}}).catch(function(t){var n=t.data&&t.data.error?t.data.error:"Couldn’t save billing address.";e.$store.dispatch("app/displayError",n),e.errors=t.data&&t.data.errors?t.data.errors:{}})},cancel:function(){this.showForm=!1,this.errors={}},onCountryChange:function(){this.invoiceDetailsDraft.state=null;var e=this.stateOptions(this.invoiceDetailsDraft.country);e.length&&(this.invoiceDetailsDraft.state=e[0].value)}}},pt=ut,ft=Object(Ne["a"])(pt,lt,dt,!1,null,null,null);ft.options.__file="BillingAddressForm.vue";var ht=ft.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"responsive-content"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[e._v("ID")]),n("th",[e._v("Price")]),n("th",[e._v("Date")]),e.upcoming?e._e():n("th",[e._v("Receipt")])])]),n("tbody",e._l(e.invoices,function(t,s){return n("tr",{key:s},[e.upcoming?n("td",[e._v("—")]):n("td",[n("router-link",{attrs:{to:"/account/billing/invoices/"+t.number}},[e._v(e._s(t.shortNumber))])],1),n("td",[e._v(e._s(e._f("currency")(t.totalPrice)))]),n("td",[t.datePaid?[e._v(e._s(e._f("moment")(t.datePaid.date,"L")))]:e._e()],2),e.upcoming?e._e():n("td",[n("a",{attrs:{href:t.pdfUrl}},[e._v("Download Receipt")])])])}),0)])])},vt=[],gt={props:["upcoming","invoices"]},bt=gt,_t=Object(Ne["a"])(bt,mt,vt,!1,null,null,null);_t.options.__file="InvoicesTable.vue";var Ct=_t.exports,yt={components:{BillingPayment:Je,BillingInvoiceDetails:ct,BillingAddressForm:ht,InvoicesTable:Ct,Spinner:Ue},computed:Object(we["a"])({},Object(i["d"])({invoices:function(e){return e.account.invoices},upcomingInvoice:function(e){return e.account.upcomingInvoice},invoicesLoading:function(e){return e.account.invoicesLoading}}))},wt=yt,xt=Object(Ne["a"])(wt,Le,ke,!1,null,null,null);xt.options.__file="index.vue";var Lt=xt.exports,kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.invoicesLoading?n("spinner"):[n("p",[n("router-link",{staticClass:"nav-link",attrs:{to:"/account/billing",exact:""}},[e._v("← Billing")])],1),n("h1",[e._v("Invoice "+e._s(e.invoice.shortNumber))]),n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[n("dl",[n("dt",[e._v("Invoice Number")]),n("dd",[e._v(e._s(e.invoice.number))]),n("dt",[e._v("Date Paid")]),n("dd",[e._v(e._s(e._f("moment")(e.invoice.datePaid.date,"LLL")))])]),n("billing-address",{staticClass:"mb-4",attrs:{address:e.invoice.billingAddress}}),n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[e._v("Item")]),n("th",[e._v("Price")]),n("th",[e._v("Quantity")]),n("th")])]),n("tbody",[e._l(e.invoice.lineItems,function(t,s){return n("tr",{key:"line-item-"+s},[n("td",[e._v(e._s(t.description))]),n("td",[e._v(e._s(e._f("currency")(t.salePrice)))]),n("td",[e._v(e._s(t.qty))]),n("td",{staticClass:"text-right"},[e._v(e._s(e._f("currency")(t.subtotal)))])])}),e._l(e.invoice.adjustments,function(t,s){return n("tr",{key:"adjustment-"+s},[n("th",{staticClass:"text-right",attrs:{colspan:"3"}},[e._v(e._s(t.name))]),n("td",{staticClass:"text-right"},[e._v(e._s(e._f("currency")(t.amount)))])])}),n("tr",[n("th",{staticClass:"text-right",attrs:{colspan:"3"}},[e._v("Items Price")]),n("td",{staticClass:"text-right"},[e._v(e._s(e._f("currency")(e.invoice.itemTotal)))])]),n("tr",[n("th",{staticClass:"text-right",attrs:{colspan:"3"}},[e._v("Total Price")]),n("td",{staticClass:"text-right"},[e._v(e._s(e._f("currency")(e.invoice.totalPrice)))])])],2)])],1)]),n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[n("h3",{staticClass:"mb-2"},[e._v("Transactions")]),n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[e._v("Type")]),n("th",[e._v("Status")]),n("th",[e._v("Amount")]),n("th",[e._v("Payment Amount")]),n("th",[e._v("Method")]),n("th",[e._v("Date")])])]),n("tbody",e._l(e.invoice.transactions,function(t,s){return n("tr",{key:"transaction-"+s},[n("td",[e._v(e._s(t.type))]),n("td",[e._v(e._s(t.status))]),n("td",[e._v(e._s(e._f("currency")(t.amount)))]),n("td",[e._v(e._s(e._f("currency")(t.paymentAmount)))]),n("td",[e._v(e._s(t.gatewayName))]),n("td",[e._v(e._s(e._f("moment")(t.dateCreated.date,"LLL")))])])}),0)])])]),e.invoice.cmsLicenses.length?n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[n("h3",{staticClass:"mb-2"},[e._v("CMS Licenses")]),n("cms-licenses-table",{attrs:{licenses:e.invoice.cmsLicenses}})],1)]):e._e(),e.invoice.pluginLicenses.length?n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[n("h3",{staticClass:"mb-2"},[e._v("Plugin Licenses")]),n("plugin-licenses-table",{attrs:{licenses:e.invoice.pluginLicenses}})],1)]):e._e()]],2)},Dt=[],Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.address?n("ul",{staticClass:"address-data list-reset"},[e.address.firstName||e.address.lastName?n("li",[n("strong",[e.address.attention?[e._v("Att: "+e._s(e.address.attention)),n("br")]:e._e(),e.address.title?[e._v(e._s(e.address.title))]:e._e(),e.address.firstName?[e._v(e._s(e.address.firstName))]:e._e(),e.address.lastName?[e._v(e._s(e.address.lastName))]:e._e()],2)]):e._e(),e.address.businessName||e.address.businessTaxId?n("li",[n("strong",[e.address.businessName?[e._v(e._s(e.address.businessName))]:e._e(),e.address.businessTaxId?[e._v("- "+e._s(e.address.businessTaxId))]:e._e()],2)]):e._e(),e.address.address1?n("li",[e._v(e._s(e.address.address1))]):e._e(),e.address.address2?n("li",[e._v(e._s(e.address.address2))]):e._e(),e.address.zipCode||e.address.city?n("li",[e.address.zipCode?[e._v(e._s(e.address.zipCode))]:e._e(),e.address.city?[e._v(e._s(e.address.city))]:e._e()],2):e._e(),e.address.countryText?n("li",[e._v(e._s(e.address.countryText))]):e._e(),e.address.stateText?n("li",[e._v(e._s(e.address.stateText))]):e._e(),e.address.phone?n("li",[e._v(e._s(e.address.phone))]):e._e(),e.address.alternativePhone?n("li",[e._v(e._s(e.address.alternativePhone))]):e._e()]):e._e()])},$t=[],It={props:["address"]},St=It,Et=Object(Ne["a"])(St,Pt,$t,!1,null,null,null);Et.options.__file="BillingAddress.vue";var Tt=Et.exports,Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"responsive-content"},[n("table",{staticClass:"table"},[e._m(0),n("tbody",[e._l(e.licenses,function(t,s){return n("tr",{key:s},[n("td",[n("code",[t.key?n("router-link",{attrs:{to:"/licenses/cms/"+t.id}},[e._v("\n                            "+e._s(t.key.substr(0,10))+"\n                        ")]):[e._v("\n                            "+e._s(t.shortKey)+"\n                        ")]],2)]),n("td",[e._v(e._s(e._f("capitalize")(t.edition)))]),n("td",[e._v(e._s(t.domain))]),n("td",[e._v(e._s(t.notes))]),n("td",[t.expirable&&t.expiresOn?[t.expired?[n("span",{staticClass:"text-grey-dark"},[e._v("Expired")])]:[e.expiresSoon(t)?[n("span",{staticClass:"text-orange"},[e._v(e._s(e._f("moment")(t.expiresOn.date,"L")))])]:[e._v("\n                                "+e._s(e._f("moment")(t.expiresOn.date,"L"))+"\n                            ")]]]:[e._v("\n                        Forever\n                    ")]],2),n("td",[t.expirable&&t.expiresOn?[1==t.autoRenew?n("badge",{attrs:{type:"success"}},[e._v("Enabled")]):n("badge",[e._v("Disabled")])]:e._e()],2)])})],2)])])},At=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("License Key")]),n("th",[e._v("Edition")]),n("th",[e._v("Domain")]),n("th",[e._v("Notes")]),n("th",[e._v("Updates Until")]),n("th",[e._v("Auto Renew")])])])}],Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"badge"+(e.type?" badge-"+e.type:"")},[e._t("default")],2)},jt=[],Ut={props:["type"]},Rt=Ut,Mt=(n("a734"),Object(Ne["a"])(Rt,Nt,jt,!1,null,null,null));Mt.options.__file="Badge.vue";var Ft=Mt.exports,Bt={props:["licenses"],components:{Badge:Ft},computed:Object(we["a"])({},Object(i["c"])({expiresSoon:"licenses/expiresSoon"}))},Vt=Bt,qt=Object(Ne["a"])(Vt,Ot,At,!1,null,null,null);qt.options.__file="CmsLicensesTable.vue";var zt=qt.exports,Kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"responsive-content"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[e._v("License Key")]),n("th",[e._v("Plugin")]),e.excludeNotesColumn?e._e():n("th",[e._v("Notes")]),e.excludeCmsLicenseColumn?e._e():n("th",[e._v("CMS License")]),n("th",[e._v("Updates Until")]),n("th",[e._v("Auto Renew")])])]),n("tbody",[e._l(e.licenses,function(t,s){return n("tr",{key:s},[n("td",[n("code",[t.key?n("router-link",{attrs:{to:"/licenses/plugins/"+t.id}},[e._v(e._s(t.key.substr(0,4)))]):[e._v(e._s(t.shortKey))]],2)]),n("td",[t.plugin?[e._v("\n                        "+e._s(t.plugin.name)+"\n                    ")]:e._e()],2),e.excludeNotesColumn?e._e():n("td",[e._v(e._s(t.notes))]),e.excludeCmsLicenseColumn?e._e():n("td",[t.cmsLicense?[n("code",[t.cmsLicense.key?n("router-link",{attrs:{to:"/licenses/cms/"+t.cmsLicenseId}},[e._v(e._s(t.cmsLicense.key.substr(0,10)))]):[e._v(e._s(t.cmsLicense.shortKey))]],2)]:[e._v("\n                        —\n                    ")]],2),n("td",[t.expiresOn?[e.expiresSoon(t)?[n("span",{staticClass:"text-orange"},[e._v("\n                                "+e._s(e._f("moment")(t.expiresOn.date,"L"))+"\n                            ")])]:[e._v("\n                            "+e._s(e._f("moment")(t.expiresOn.date,"L"))+"\n                        ")]]:e._e()],2),n("td",[e.autoRenewSwitch?[t.key?[n("lightswitch-field",{attrs:{id:"auto-renew-"+t.id,checked:e.pluginLicensesAutoRenew[t.id],disabled:!t.key},on:{change:function(n){e.savePluginLicenseAutoRenew(t,n)},"update:checked":function(n){e.$set(e.pluginLicensesAutoRenew,t.id,n)}}})]:[n("lightswitch-field",{attrs:{id:"auto-renew-"+t.id,checked:t.autoRenew,disabled:!0}})]]:[1==t.autoRenew?n("badge",{attrs:{type:"success"}},[e._v("Enabled")]):n("badge",[e._v("Disabled")])]],2)])})],2)])])},Xt=[],Gt={data:function(){return{pluginLicensesAutoRenew:{}}},props:["licenses","excludeCmsLicenseColumn","excludeNotesColumn","autoRenewSwitch"],components:{Badge:Ft},computed:Object(we["a"])({},Object(i["c"])({expiresSoon:"licenses/expiresSoon"})),methods:{savePluginLicenseAutoRenew:function(e,t){var n=this;if(!e.key)return!1;var s=t.target.checked,i={pluginHandle:e.plugin.handle,key:e.key,autoRenew:s?1:0};this.$store.dispatch("licenses/savePluginLicense",i).then(function(){s?n.$store.dispatch("app/displayNotice","Auto renew enabled."):n.$store.dispatch("app/displayNotice","Auto renew disabled."),n.$store.dispatch("licenses/getCmsLicenses")}).catch(function(e){n.$store.dispatch("app/displayError","Couldn’t save license."),n.errors=e.errors})}},mounted:function(){this.pluginLicensesAutoRenew={},this.licenses.forEach(function(e){this.pluginLicensesAutoRenew[e.id]=e.autoRenew}.bind(this))}},Wt=Gt,Ht=Object(Ne["a"])(Wt,Kt,Xt,!1,null,null,null);Ht.options.__file="PluginLicensesTable.vue";var Qt=Ht.exports,Yt={components:{BillingAddress:Tt,CardIcon:We,CmsLicensesTable:zt,PluginLicensesTable:Qt,Spinner:Ue},computed:Object(we["a"])({},Object(i["d"])({invoicesLoading:function(e){return e.app.invoicesLoading}}),Object(i["c"])({getInvoiceByNumber:"account/getInvoiceByNumber"}),{invoice:function(){var e=this.getInvoiceByNumber(this.$route.params.number);return e||(this.$store.dispatch("app/displayError","Couldn’t find invoice."),this.$router.push({path:"/account/billing"})),e}})},Jt=Yt,Zt=Object(Ne["a"])(Jt,kt,Dt,!1,null,null,null);Zt.options.__file="_number.vue";var en=Zt.exports,tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.userDraft?n("form",{on:{submit:function(t){t.preventDefault(),e.save()}}},[n("h1",[e._v("Settings")]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Email & password")]),n("password-field",{attrs:{id:"password",label:"Current Password",errors:e.errors.currentPassword},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("text-field",{attrs:{id:"email",label:"Email",errors:e.errors.email},model:{value:e.userDraft.email,callback:function(t){e.$set(e.userDraft,"email",t)},expression:"userDraft.email"}}),n("password-field",{attrs:{id:"newPassword",label:"New Password",errors:e.errors.newPassword},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Account Settings")]),n("text-field",{attrs:{id:"username",label:"Username",errors:e.errors.username},model:{value:e.userDraft.username,callback:function(t){e.$set(e.userDraft,"username",t)},expression:"userDraft.username"}}),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userDraft.enablePluginDeveloperFeatures,expression:"userDraft.enablePluginDeveloperFeatures"}],attrs:{id:"enablePluginDeveloperFeatures",disabled:e.userIsInGroup("developers"),type:"checkbox",name:"fields[enablePluginDeveloperFeatures]"},domProps:{checked:Array.isArray(e.userDraft.enablePluginDeveloperFeatures)?e._i(e.userDraft.enablePluginDeveloperFeatures,null)>-1:e.userDraft.enablePluginDeveloperFeatures},on:{change:function(t){var n=e.userDraft.enablePluginDeveloperFeatures,s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);s.checked?r<0&&e.$set(e.userDraft,"enablePluginDeveloperFeatures",n.concat([a])):r>-1&&e.$set(e.userDraft,"enablePluginDeveloperFeatures",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.userDraft,"enablePluginDeveloperFeatures",i)}}}),n("label",{class:e.userIsInGroup("developers")?"disabled":"",attrs:{for:"enablePluginDeveloperFeatures"}},[e._v("Enable plugin developer features")])]),e.userIsInGroup("staff")?n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userDraft.enableShowcaseFeatures,expression:"userDraft.enableShowcaseFeatures"}],attrs:{id:"enableShowcaseFeatures",type:"checkbox",name:"fields[enableShowcaseFeatures]"},domProps:{checked:Array.isArray(e.userDraft.enableShowcaseFeatures)?e._i(e.userDraft.enableShowcaseFeatures,null)>-1:e.userDraft.enableShowcaseFeatures},on:{change:function(t){var n=e.userDraft.enableShowcaseFeatures,s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);s.checked?r<0&&e.$set(e.userDraft,"enableShowcaseFeatures",n.concat([a])):r>-1&&e.$set(e.userDraft,"enableShowcaseFeatures",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.userDraft,"enableShowcaseFeatures",i)}}}),n("label",{attrs:{for:"enableShowcaseFeatures"}},[e._v("Enable showcase features")])]):n("input",{directives:[{name:"model",rawName:"v-model",value:e.userDraft.enableShowcaseFeatures,expression:"userDraft.enableShowcaseFeatures"}],attrs:{type:"hidden",name:"fields[enableShowcaseFeatures]"},domProps:{value:e.userDraft.enableShowcaseFeatures},on:{input:function(t){t.target.composing||e.$set(e.userDraft,"enableShowcaseFeatures",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userDraft.enablePartnerFeatures,expression:"userDraft.enablePartnerFeatures"}],attrs:{type:"hidden",name:"fields[enablePartnerFeatures]"},domProps:{value:e.userDraft.enablePartnerFeatures},on:{input:function(t){t.target.composing||e.$set(e.userDraft,"enablePartnerFeatures",t.target.value)}}})],1)]),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save",disabled:e.loading}}),e.loading?n("spinner"):e._e()],1):e._e()},nn=[],sn={component:{Spinner:Ue},data:function(){return{loading:!1,photoLoading:!1,userDraft:{},password:"",newPassword:"",errors:{}}},computed:Object(we["a"])({},Object(i["d"])({currentUser:function(e){return e.account.currentUser}}),Object(i["c"])({userIsInGroup:"account/userIsInGroup"})),methods:{save:function(){var e=this;this.loading=!0;var t=!1;this.currentUser.email!==this.userDraft.email&&(t=!0),this.$store.dispatch("account/saveUser",{id:this.userDraft.id,email:this.userDraft.email,username:this.userDraft.username,enablePluginDeveloperFeatures:this.userDraft.enablePluginDeveloperFeatures?1:0,enableShowcaseFeatures:this.userDraft.enableShowcaseFeatures?1:0,enablePartnerFeatures:this.userDraft.enablePartnerFeatures?1:0,password:this.password,newPassword:this.newPassword}).then(function(){e.loading=!1,t?(e.userDraft.email=e.currentUser.email,e.$store.dispatch("app/displayNotice","You’ve been sent an email to verify your new email address.")):e.$store.dispatch("app/displayNotice","Settings saved."),e.password="",e.newPassword="",e.errors={}}).catch(function(t){e.loading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t save settings.";e.$store.dispatch("app/displayError",n),e.errors=t.data&&t.data.errors?t.data.errors:{}})}},mounted:function(){this.userDraft=JSON.parse(it()(this.currentUser))}},an=sn,rn=Object(Ne["a"])(an,tn,nn,!1,null,null,null);rn.options.__file="settings.vue";var on=rn.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Buy Plugin")]),n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[e._v("\n            Adding\n            "),e.plugin?[e._v(e._s(e.plugin.name))]:n("code",[e._v(e._s(e.handle))]),e._v("\n            to your cart…\n\n            "),e.loading?n("spinner"):e._e()],2)])])},ln=[],dn={components:{Spinner:Ue},data:function(){return{loading:!1,plugin:null}},computed:Object(we["a"])({},Object(i["d"])({plugins:function(e){return e.pluginStore.plugins}}),Object(i["c"])({getPluginByHandle:"pluginStore/getPluginByHandle"}),{handle:function(){return this.$route.params.handle},edition:function(){return this.$route.params.edition}}),methods:Object(we["a"])({},Object(i["b"])({getPluginStoreData:"pluginStore/getPluginStoreData"}),{addToCart:function(){var e=this;this.plugin=this.getPluginByHandle(this.handle);var t={type:"plugin-edition",plugin:this.handle,edition:this.edition,autoRenew:!1};this.$store.dispatch("cart/addToCart",[t]).then(function(){e.$router.push({path:"/cart"})})}}),mounted:function(){var e=this;0===this.plugins.length?(this.loading=!0,this.getPluginStoreData().then(function(){e.loading=!1,e.addToCart()}).catch(function(){e.loading=!1})):this.addToCart()}},un=dn,pn=Object(Ne["a"])(un,cn,ln,!1,null,null,null);pn.options.__file="index.vue";var fn=pn.exports,hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Cart")]),e.loading?n("spinner"):[e.cart?[e.cartItems.length?[n("table",{staticClass:"table"},[e.cartItems.length?[n("thead",[n("tr",[n("th",{attrs:{colspan:"2"}},[e._v("Item")]),n("th",[e._v("Type")]),n("th",[e._v("Updates")]),n("th",[e._v("Quantity")]),n("th")])]),n("tbody",[e._l(e.cartItems,function(t,s){return n("tr",{key:s},["cms-edition"===t.lineItem.purchasable.type?[n("td",{staticClass:"icon-col"},[n("div",{staticClass:"plugin-icon"},[n("img",{attrs:{src:e.craftLogo,width:"42",height:"42"}})])]),n("td",[e._v("Craft "+e._s(t.lineItem.purchasable.name))])]:"plugin-edition"===t.lineItem.purchasable.type?[n("td",{staticClass:"icon-col"},[t.plugin?n("div",{staticClass:"plugin-icon"},[t.plugin.iconUrl?n("img",{attrs:{src:t.plugin.iconUrl,width:"42",height:"42"}}):e._e()]):e._e()]),n("td",[n("strong",{staticClass:"text-xl"},[e._v(e._s(t.lineItem.description))]),n("div",{staticClass:"text-secondary"},[e._v("\n                                        "+e._s(t.lineItem.purchasable.name)+"\n                                    ")])])]:[n("td",{attrs:{colspan:"2"}},[n("strong",{staticClass:"text-xl"},["cms-renewal"===t.lineItem.purchasable.type?[e._v("Craft ")]:e._e(),e._v("\n                                        "+e._s(t.lineItem.description)+"\n                                    ")],2),n("div",{staticClass:"text-secondary"},[n("code",[e._v(e._s(t.lineItem.options.licenseKey.substr(0,4)))])])])],n("td",[n("code",[e._v(e._s(t.lineItem.purchasable.type))])]),n("td",["cms-edition"===t.lineItem.purchasable.type||"plugin-edition"===t.lineItem.purchasable.type?[n("select-field",{attrs:{options:e.itemUpdateOptions(s)},model:{value:e.itemUpdates[s],callback:function(t){e.$set(e.itemUpdates,s,t)},expression:"itemUpdates[itemKey]"}})]:[e._v("\n                                    Updates until "),n("strong",[e._v(e._s(t.lineItem.options.expiryDate))])]],2),n("td",[n("number-input",{ref:"quantityInput",refInFor:!0,attrs:{min:"minQuantity",max:"maxQuantity",step:"1",disabled:"cms-edition"!==t.lineItem.purchasable.type&&"plugin-edition"!==t.lineItem.purchasable.type},on:{keydown:function(t){e.onQuantityKeyDown(t,s)},input:function(t){e.onQuantityInput(t,s)}},model:{value:e.itemQuantity[s],callback:function(t){e.$set(e.itemQuantity,s,t)},expression:"itemQuantity[itemKey]"}})],1),n("td",{staticClass:"text-right"},[n("strong",{staticClass:"block text-xl"},[e._v("\n                                    "+e._s(e._f("currency")(t.lineItem.total))+"\n                                ")]),n("a",{on:{click:function(t){e.removeFromCart(s)}}},[e._v("Remove")])])],2)}),n("tr",[n("th",{staticClass:"text-right text-xl",attrs:{colspan:"5"}},[e._v("Total")]),n("td",{staticClass:"text-right text-xl"},[n("strong",[e._v(e._s(e._f("currency")(e.total)))])])])],2)]:e._e()],2),n("div",{staticClass:"mt-4 text-right"},[n("input",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",value:"Check Out"},on:{click:function(t){e.checkout()}}})])]:n("div",[n("empty",[n("font-awesome-icon",{staticClass:"text-5xl mb-4 text-grey",attrs:{icon:"shopping-cart"}}),n("div",{staticClass:"font-bold"},[e._v("Your cart is empty")]),n("div",{staticClass:"mt-4"},[n("p",[e._v("Browse plugins on "),n("a",{attrs:{href:e.craftPluginsUrl()}},[e._v("plugins.craftcms.com")])])])],1)],1)]:e._e()]],2)},mn=[],vn=n("e814"),gn=n.n(vn),bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"empty"},[n("div",{staticClass:"empty-body"},[e._t("default")],2)])},_n=[],Cn=(n("d3f8"),{}),yn=Object(Ne["a"])(Cn,bn,_n,!1,null,null,null);yn.options.__file="Empty.vue";var wn=yn.exports,xn={mixins:[ze["a"]],components:{Empty:wn,Spinner:Ue},data:function(){return{loading:!1,itemUpdates:{},itemQuantity:{},minQuantity:1,maxQuantity:1e3}},computed:Object(we["a"])({},Object(i["d"])({cart:function(e){return e.cart.cart},expiryDateOptions:function(e){return e.pluginStore.expiryDateOptions}}),Object(i["c"])({cartItems:"cart/cartItems"}),{total:function(){var e=0;return this.cartItems.forEach(function(t,n){e+=this.itemTotal(n)}.bind(this)),e}}),methods:Object(we["a"])({},Object(i["b"])({getCart:"cart/getCart",removeFromCart:"cart/removeFromCart",getPluginStoreData:"pluginStore/getPluginStoreData"}),{checkout:function(){this.$router.push({path:"/payment"})},itemUpdateOptions:function(e){for(var t=this.cartItems[e],n=t.lineItem.purchasable.renewalPrice,s=this.itemUpdates[e],i=[],a=0;a<this.expiryDateOptions.length;a++){var r=this.expiryDateOptions[a],o=n*(a-s),c="Updates Until "+this.$options.filters.moment(r,"L");if(0!==o){var l="";o>0&&(l="+"),c+=" ("+l+this.$options.filters.currency(o)+")"}i.push({label:c,value:a})}return i},itemTotal:function(e){var t=this.cartItems[e].lineItem.purchasable,n=gn()(t.price),s=gn()(t.renewalPrice)*this.itemUpdates[e],i=this.itemQuantity[e];return(n+s)*i},onQuantityInput:function(e,t){e=gn()(e),isNaN(e)||e<this.minQuantity?e=this.minQuantity:e>this.maxQuantity&&(e=this.maxQuantity),this.$set(this.itemQuantity,t,e),this.$refs.quantityInput[t].$el.value=e},onQuantityKeyDown:function(e){var t=e.which?e.which:e.keyCode;if(69===t||189===t)return e.preventDefault(),!1}}),mounted:function(){var e=this;this.loading=!0,this.getPluginStoreData().then(function(){e.getCart().then(function(){e.loading=!1,e.cartItems.forEach(function(e,t){this.$set(this.itemUpdates,t,0),this.$set(this.itemQuantity,t,1)}.bind(e))}).catch(function(){e.loading=!1})}).catch(function(){e.loading=!1})}},Ln=xn,kn=Object(Ne["a"])(Ln,hn,mn,!1,null,null,null);kn.options.__file="cart.vue";var Dn=kn.exports,Pn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("stripe-account-alert"),s("div",{staticClass:"flex justify-between mb-2"},[s("h1",[e._v("Plugins")]),s("div",[s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/developer/add-plugin"}},[s("font-awesome-icon",{attrs:{icon:"plus"}}),e._v("\n                Add a plugin\n            ")],1)],1)]),e.computedPlugins.length>0?s("div",{staticClass:"card card-table responsive-content"},[s("table",{staticClass:"table"},[e._m(0),s("tbody",e._l(e.computedPlugins,function(t,i){return s("tr",{key:i},[s("td",{staticClass:"icon-col"},[s("router-link",{attrs:{to:"/developer/plugins/"+t.id}},[t.iconUrl?s("img",{attrs:{src:t.iconUrl,height:"36"}}):s("img",{attrs:{src:n("2aab"),height:"36"}})])],1),s("td",{staticClass:"name-col"},[s("router-link",{attrs:{to:"/developer/plugins/"+t.id}},[e._v(e._s(t.name))]),t.latestVersion?s("small",{staticClass:"text-secondary"},[e._v(e._s(t.latestVersion))]):e._e(),s("div",[e._v(e._s(t.shortDescription))])],1),s("td",[e._v(e._s(t.activeInstalls))]),s("td",[s("div",{staticClass:"text-nowrap"},[e.priceRanges[i].min!==e.priceRanges[i].max?[e.priceRanges[i].min>0?[e._v("\n                                "+e._s(e._f("currency")(e.priceRanges[i].min))+"\n                            ")]:[e._v("\n                                Free\n                            ")],e._v("\n                            -\n                            "+e._s(e._f("currency")(e.priceRanges[i].max))+"\n                        ")]:[e.priceRanges[i].min>0?[e._v("\n                                "+e._s(e._f("currency")(e.priceRanges[i].min))+"\n                            ")]:[e._v("\n                                Free\n                            ")]]],2)]),s("td",[t.enabled?[s("span",{staticClass:"text-green"},[e._v("Approved")])]:[t.pendingApproval?s("span",{staticClass:"text-secondary"},[e._v("In Review")]):[t.lastHistoryNote&&t.lastHistoryNote.devComments?s("span",{staticClass:"text-warning"},[e._v("Changes requested")]):s("span",{staticClass:"text-secondary"},[e._v("Prepare for submission")])]]],2)])}),0)])]):s("empty",[s("font-awesome-icon",{staticClass:"text-5xl mb-4 text-grey-light",attrs:{icon:"plug"}}),s("div",{staticClass:"font-bold"},[e._v("No plugins")]),s("div",[e._v("You haven’t added any plugins yet.")])],1)],1)},$n=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th"),n("th",[e._v("Name")]),n("th",[e._v("Active Installs")]),n("th",[e._v("Price")]),n("th",[e._v("Status")])])])}],In=(n("55dd"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.stripeAccountLoading||e.stripeAccount?e._e():n("div",{staticClass:"top-alert alert alert-warning",attrs:{role:"alert"}},[n("strong",[e._v("Stripe account missing.")]),e._v("\n    Define a Stripe account in the "),n("router-link",{attrs:{to:"/developer/settings"}},[e._v("developer settings")]),e._v(".\n")],1)}),Sn=[],En={computed:Object(we["a"])({},Object(i["d"])({stripeAccount:function(e){return e.account.stripeAccount},stripeAccountLoading:function(e){return e.app.stripeAccountLoading}}))},Tn=En,On=Object(Ne["a"])(Tn,In,Sn,!1,null,null,null);On.options.__file="StripeAccountAlert.vue";var An=On.exports,Nn={components:{StripeAccountAlert:An,Empty:wn},data:function(){return{showSpinner:1}},computed:Object(we["a"])({},Object(i["d"])({plugins:function(e){return e.developers.plugins}}),{computedPlugins:function(){var e=JSON.parse(it()(this.plugins));return e.sort(function(e,t){return e["name"].toLowerCase()<t["name"].toLowerCase()?-1:e["name"].toLowerCase()>t["name"].toLowerCase()?1:0}),e},priceRanges:function(){for(var e=[],t=0;t<this.plugins.length;t++){var n=this.plugins[t],s=this.getPriceRange(n.editions);e.push(s)}return e}}),methods:{getPriceRange:function(e){for(var t=null,n=null,s=0;s<e.length;s++){var i=e[s],a=gn()(i.price);null===t&&(t=a),null===n&&(n=a),a<t&&(t=a),a>n&&(n=a)}return{min:t,max:n}}}},jn=Nn,Un=Object(Ne["a"])(jn,Pn,$n,!1,null,null,null);Un.options.__file="index.vue";var Rn=Un.exports,Mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-3"},[n("p",[n("router-link",{staticClass:"nav-link",attrs:{to:"/developer/plugins",exact:""}},[e._v("← Plugins")])],1),e.plugin?n("h1",[e._v(e._s(e.plugin.name))]):n("h1",[e._v("Add a plugin")]),e.pluginId||this.pluginDraft.repository?[e.plugin&&!e.plugin.enabled?n("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[e.plugin.pendingApproval?[e._v("\n                Your plugin is being reviewed, it will be automatically published once it’s approved.\n            ")]:[e.plugin.lastHistoryNote&&e.plugin.lastHistoryNote.devComments?[n("h6",[e._v("Changes requested")]),n("div",{domProps:{innerHTML:e._s(e.plugin.lastHistoryNote.devComments)}}),n("a",{staticClass:"btn btn-secondary btn-sm",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.submit()}}},[e._v("Re-submit for Approval")])]:[n("a",{staticClass:"btn btn-secondary btn-sm",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.submit()}}},[e._v("Submit for Approval")])],n("span",{staticClass:"text-secondary"},[e._v("Your plugin will be automatically published once it’s approved.")])],e.pluginSubmitLoading?n("spinner"):e._e()],2):e._e(),n("form",{on:{submit:function(t){t.preventDefault(),e.save()}}},[n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-header"},[e._v("GitHub Repository")]),n("div",{staticClass:"card-body"},[n("text-field",{attrs:{id:"repository",label:"Repository URL",errors:e.errors.repository,disabled:"true"},model:{value:e.pluginDraft.repository,callback:function(t){e.$set(e.pluginDraft,"repository",t)},expression:"pluginDraft.repository"}})],1)]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-header"},[e._v("Plugin Icon")]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"mr-6"},[n("div",{staticClass:"field"},[n("img",{attrs:{src:e.pluginDraft.iconUrl,height:"80"}})])]),n("div",{staticClass:"flex-1"},[n("div",{staticClass:"field"},[n("div",{staticClass:"instructions"},[n("p",[e._v("Plugin icons must be square SVG files, and should not exceed "+e._s(e.maxUploadSize)+".")])]),n("input",{ref:"iconFile",staticClass:"form-control",class:{"is-invalid":e.errors.iconId},attrs:{type:"file"},on:{change:e.changeIcon}}),e._l(e.errors.iconId,function(t,s){return n("div",{key:"plugin-icon-error-"+s,staticClass:"invalid-feedback"},[e._v(e._s(t))])})],2)])])])]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-header"},[e._v("Plugin Details")]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"flex flex-wrap -mx-4"},[n("div",{staticClass:"w-1/2 px-4"},[n("text-field",{attrs:{id:"name",label:"Name",errors:e.errors.name},on:{input:e.onInputName},model:{value:e.pluginDraft.name,callback:function(t){e.$set(e.pluginDraft,"name",t)},expression:"pluginDraft.name"}})],1),n("div",{staticClass:"w-1/2 px-4"},[n("text-field",{attrs:{id:"packageName",label:"Package Name",errors:e.errors.packageName,disabled:"true"},model:{value:e.pluginDraft.packageName,callback:function(t){e.$set(e.pluginDraft,"packageName",t)},expression:"pluginDraft.packageName"}})],1),n("div",{staticClass:"w-1/2 px-4"},[n("text-field",{attrs:{id:"handle",label:"Plugin Handle",errors:e.errors.handle,disabled:"true"},model:{value:e.pluginDraft.handle,callback:function(t){e.$set(e.pluginDraft,"handle",t)},expression:"pluginDraft.handle"}})],1),n("div",{staticClass:"w-1/2 px-4"},[n("div",{staticClass:"field"},[n("label",{attrs:{for:"license"}},[e._v("License")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.pluginDraft.license,expression:"pluginDraft.license"}],staticClass:"form-control w-full",attrs:{id:"license"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.pluginDraft,"license",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"craft"}},[e._v("Craft")]),n("option",{attrs:{value:"mit"}},[e._v("MIT")])])])])]),n("text-field",{attrs:{id:"shortDescription",label:"Short Description",errors:e.errors.shortDescription},model:{value:e.pluginDraft.shortDescription,callback:function(t){e.$set(e.pluginDraft,"shortDescription",t)},expression:"pluginDraft.shortDescription"}}),n("textarea-field",{attrs:{id:"longDescription",label:"Long Description",errors:e.errors.longDescription,rows:"16"},model:{value:e.pluginDraft.longDescription,callback:function(t){e.$set(e.pluginDraft,"longDescription",t)},expression:"pluginDraft.longDescription"}}),e._m(0),n("text-field",{attrs:{id:"documentationUrl",label:"Documentation URL",errors:e.errors.documentationUrl},model:{value:e.pluginDraft.documentationUrl,callback:function(t){e.$set(e.pluginDraft,"documentationUrl",t)},expression:"pluginDraft.documentationUrl"}}),n("text-field",{attrs:{id:"changelogPath",label:"Changelog Path",instructions:"The path to your changelog file, relative to the repository root.",errors:e.errors.changelogPath},model:{value:e.pluginDraft.changelogPath,callback:function(t){e.$set(e.pluginDraft,"changelogPath",t)},expression:"pluginDraft.changelogPath"}}),n("plugin-categories",{attrs:{"plugin-draft":e.pluginDraft}}),n("text-field",{attrs:{id:"keywords",label:"Keywords",instructions:"Comma-separated list of keywords.",errors:e.errors.keywords},model:{value:e.pluginDraft.keywords,callback:function(t){e.$set(e.pluginDraft,"keywords",t)},expression:"pluginDraft.keywords"}})],1)]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-header"},[e._v("Screenshots")]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"instructions"},[n("p",[e._v("Plugin screenshots must be JPG or PNG files, and should not exceed "+e._s(e.maxUploadSize)+".")])]),n("input",{ref:"screenshotFiles",staticClass:"form-control",attrs:{type:"file",multiple:""}})]),n("div",{ref:"screenshots",staticClass:"d-inline"},[n("draggable",{model:{value:e.screenshots,callback:function(t){e.screenshots=t},expression:"screenshots"}},e._l(e.screenshots,function(t,s){return n("div",{key:s,staticClass:"screenshot"},[n("img",{staticClass:"img-thumbnail mr-3 mb-3",attrs:{src:t.url}}),n("a",{staticClass:"remove btn btn-sm btn-danger",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.removeScreenshot(s)}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)])}),0)],1)])]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-header"},[e._v("Editions")]),n("div",{staticClass:"card-body"},[e._l(e.pluginDraft.editions,function(t,s){return[n("div",{key:"edition-"+s,staticClass:"flex"},[n("div",{staticClass:"w-1/4"},[n("h2",[e._v(e._s(t.name))]),n("p",{staticClass:"text-grey"},[n("code",[e._v(e._s(t.handle))])])]),n("div",{staticClass:"w-3/4"},[n("text-field",{attrs:{id:t.handle+"-price",label:"License Price",errors:e.errors.price},model:{value:t.price,callback:function(n){e.$set(t,"price",n)},expression:"edition.price"}}),n("text-field",{attrs:{id:t.handle+"-renewalPrice",label:"Renewal Price",errors:e.errors.renewalPrice},model:{value:t.renewalPrice,callback:function(n){e.$set(t,"renewalPrice",n)},expression:"edition.renewalPrice"}}),n("field",{attrs:{id:"features",label:"Features"}},[t.features.length>0?n("table",{staticClass:"table border mb-4",attrs:{id:"features"}},[n("thead",[n("tr",[n("th",{staticClass:"w-1/3"},[e._v("Name")]),n("th",[e._v("Description")]),n("th")])]),n("tbody",e._l(t.features,function(i,a){return n("tr",{key:"feature-"+a},[n("td",[n("text-input",{attrs:{id:t.handle+"-featureName"},model:{value:i.name,callback:function(t){e.$set(i,"name",t)},expression:"feature.name"}})],1),n("td",[n("text-input",{attrs:{id:t.handle+"-featureDescription"},model:{value:i.description,callback:function(t){e.$set(i,"description",t)},expression:"feature.description"}})],1),n("td",{staticClass:"w-10 text-center"},[n("a",{on:{click:function(t){t.preventDefault(),e.removeFeature(s,a)}}},[n("font-awesome-icon",{staticClass:"text-red",attrs:{icon:"times"}})],1)])])}),0)]):e._e(),n("div",[n("a",{staticClass:"btn btn-secondary",on:{click:function(t){t.preventDefault(),e.addFeature(s)}}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add a feature")],1)])])],1),n("hr")])]}),e._m(1)],2)]),n("div",[n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save",disabled:e.loading}}),e.loading?n("spinner"):e._e()],1)])]:[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[e.connectedAppsCount>0?[n("p",[e._v("To get started, select a repository for your plugin.")]),e._l(e.apps,function(t,s){return n("div",{key:s,staticClass:"mb-3"},[n("repositories",{attrs:{appHandle:s,"loading-repository":e.loadingRepository},on:{selectRepository:e.onSelectRepository}})],1)}),n("div",[n("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/account/settings#connected-apps"}},[e._v("Manage connected apps")])],1)]:[n("h2",[e._v("Connect")]),n("p",[e._v("Connect to GitHub to retrieve your repositories.")]),n("connected-apps")]],2)])]],2)},Fn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"text-secondary"},[n("small",[e._v("Styling with Markdown is supported.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"text-center"},[e._v("To manage your editions, please "),n("a",{attrs:{href:"mailto:hello@craftcms.com"}},[e._v("contact us")]),e._v(".")])}],Bn=n("a4bb"),Vn=n.n(Bn),qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("list-group",[e.showStripe?n("stripe-app"):e._e(),e._l(e.appTypes,function(t,s){return n("div",{key:s},[n("connected-app",{attrs:{name:t.name,description:"Connect to your "+t.name+" account.",icon:e.staticImageUrl(t.handle+".svg"),"account-name":e.accountName(t.handle),connected:e.apps[t.handle],buttonLoading:e.loading&&e.loading[t.handle]},on:{connect:function(n){e.connect(t.handle)},disconnect:function(n){e.disconnect(t.handle)}}}),s!=e.appTypes.length-1?n("hr"):e._e()],1)})],2)},zn=[],Kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("connected-app",{attrs:{name:e.appType.name,description:"Connect to your "+e.appType.name+" account.",icon:e.staticImageUrl(e.appType.handle+".svg"),"account-name":e.stripeAccount?e.stripeAccount.display_name:"",connected:e.stripeAccount,buttonLoading:e.disconnectLoading,loading:e.stripeAccountLoading},on:{connect:function(t){e.connect()},disconnect:function(t){e.disconnect()}}})},Xn=[],Gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("list-group-item",[e.loading?n("spinner"):[n("div",{staticClass:"flex items-start"},[n("img",{staticClass:"flex mr-3",attrs:{src:e.icon,height:"48",width:"48"}}),n("div",{staticClass:"flex-1"},[e.connected?[n("h5",[e._v(e._s(e.accountName))]),n("p",{staticClass:"mb-0"},[n("span",{staticClass:"text-secondary"},[e._v(e._s(e.name))])])]:[n("h5",[e._v(e._s(e.name))]),n("p",{staticClass:"mb-0"},[e._v(e._s(e.description))])]],2),n("div",{staticClass:"ml-4"},[e.connected?[n("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(t){e.$emit("disconnect")}}},[e._v("Disconnect")])]:[n("button",{staticClass:"btn btn-primary",on:{click:function(t){t.preventDefault(),e.$emit("connect")}}},[e._v("Connect")])],e.buttonLoading?n("div",{staticClass:"mt-2 text-right"},[n("spinner")],1):e._e()],2)])]],2)},Wn=[],Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-group-item"},[e._t("default")],2)},Qn=[],Yn=(n("77e3"),{}),Jn=Object(Ne["a"])(Yn,Hn,Qn,!1,null,null,null);Jn.options.__file="ListGroupItem.vue";var Zn=Jn.exports,es={props:["name","description","icon","accountName","connected","buttonLoading","loading"],data:function(){return{}},components:{ListGroupItem:Zn,Spinner:Ue}},ts=es,ns=Object(Ne["a"])(ts,Gn,Wn,!1,null,null,null);ns.options.__file="ConnectedApp.vue";var ss=ns.exports,is={mixins:[ze["a"]],data:function(){return{appType:{name:"Stripe",handle:"stripe"},disconnectLoading:!1}},components:{ConnectedApp:ss},computed:Object(we["a"])({},Object(i["d"])({stripeAccount:function(e){return e.account.stripeAccount},stripeAccountLoading:function(e){return e.app.stripeAccountLoading}}),{stripeConnectUrl:function(){return window.stripeConnectUrl}}),methods:{connect:function(){window.location.href=this.stripeConnectUrl},disconnect:function(){var e=this;this.disconnectLoading=!0,this.$store.dispatch("account/disconnectStripeAccount").then(function(){e.disconnectLoading=!1,e.$store.dispatch("app/displayNotice","Stripe account removed.")})}}},as=is,rs=Object(Ne["a"])(as,Kn,Xn,!1,null,null,null);rs.options.__file="StripeApp.vue";var os=rs.exports,cs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-group"},[e._t("default")],2)},ls=[],ds=(n("85de"),{}),us=Object(Ne["a"])(ds,cs,ls,!1,null,null,null);us.options.__file="ListGroup.vue";var ps=us.exports,fs={mixins:[ze["a"]],props:["title","showStripe"],data:function(){return{appTypes:[{handle:"github",name:"GitHub"}],loading:{bitbucket:!1,github:!1}}},components:{StripeApp:os,ConnectedApp:ss,ListGroup:ps},computed:Object(we["a"])({},Object(i["d"])({apps:function(e){return e.account.apps},currentUser:function(e){return e.account.currentUser}}),Object(i["c"])({userIsInGroup:"account/userIsInGroup"})),methods:{accountName:function(e){if(this.apps[e]){var t=this.apps[e];switch(e){case"github":return t.account.name;case"bitbucket":return t.account.display_name}}},connect:function(e){var t=800,n=830;switch(e){case"bitbucket":t=1024,n=570;break}var s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=s/2-t/2,r=i/2-n/2,o="/apps/connect/"+e,c="ConnectWithOauth",l="location=0,status=0,width="+t+",height="+n+",left="+a+",top="+r;window.open(o,c,l)},disconnect:function(e){var t=this;this.loading[e]=!0,this.$store.dispatch("account/disconnectApp",e).then(function(){t.loading[e]=!1,t.$store.dispatch("app/displayNotice","App disconnected.")}).catch(function(n){t.loading[e]=!1;var s=n.data&&n.data.error?n.data.error:"Couldn’t disconnect app.";t.$store.dispatch("app/displayError",s),t.errors=n.data&&n.data.errors?n.data.errors:{}})}}},hs=fs,ms=Object(Ne["a"])(hs,qn,zn,!1,null,null,null);ms.options.__file="ConnectedApps.vue";var vs=ms.exports,gs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("text-field",{attrs:{placeholder:"Filter repositories"},model:{value:e.q,callback:function(t){e.q=t},expression:"q"}}),e.filteredRepositories.length>0?n("list-group",e._l(e.filteredRepositories,function(t,s){return n("list-group-item",{key:s},[n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"flex-1"},[e._v("\n                    "+e._s(t.full_name)+"\n                ")]),n("div",[e.isLoading(t.html_url)?n("spinner"):e._e(),e.repositoryIsInUse(t.html_url)?n("a",{staticClass:"btn btn-sm btn-light disabled",class:{disabled:e.repositoryIsInUse(t.html_url)},attrs:{href:"#"}},[e._v("Already in use")]):n("a",{staticClass:"btn btn-sm btn-primary",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),e.$emit("selectRepository",t)}}},[e._v("Select")])],1)])])}),1):n("p",[e._v("No repositories.")])],1)},bs=[],_s=n("9380"),Cs=n.n(_s),ys=n("8a30"),ws=n.n(ys),xs={props:["appHandle","loadingRepository"],data:function(){return{q:""}},components:{ListGroup:ps,ListGroupItem:Zn,Spinner:Ue},computed:Object(we["a"])({},Object(i["d"])({apps:function(e){return e.account.apps}}),Object(i["c"])({repositoryIsInUse:"developers/repositoryIsInUse"}),{app:function(){return this.apps[this.appHandle]},repositories:function(){var e=this,t=this.app.repositories.filter(function(t){return!e.repositoryIsInUse(t.html_url)}),n=this.app.repositories.filter(function(t){return e.repositoryIsInUse(t.html_url)});return t.concat(n)},filteredRepositories:function(){var e=this.q;return e?Cs()(this.repositories,function(t){if(t.full_name&&ws()(t.full_name.toLowerCase(),e.toLowerCase()))return!0}):this.repositories}}),methods:{isLoading:function(e){return this.loadingRepository===e}}},Ls=xs,ks=Object(Ne["a"])(Ls,gs,bs,!1,null,null,null);ks.options.__file="Repositories.vue";var Ds=ks.exports,Ps=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field"},[n("label",{attrs:{id:"categories"}},[e._v("Categories")]),n("div",{staticClass:"instructions"},[n("p",[e._v("Pick up to "+e._s(e.maxCategories)+" categories. ("+e._s(e.pluginDraft.categoryIds.length)+"/"+e._s(e.maxCategories)+" selected)")])]),n("draggable",{model:{value:e.pluginDraft.categoryIds,callback:function(t){e.$set(e.pluginDraft,"categoryIds",t)},expression:"pluginDraft.categoryIds"}},e._l(e.selectedCategories,function(t,s){return n("div",{key:"selected-categories-"+s,staticClass:"alert float-left clearfix mb-3 mr-2 px-3 py-2"},[n("div",{staticClass:"flex"},[n("div",[e._v(e._s(t.title))]),n("div",{staticClass:"ml-3 mt-1"},[n("a",{attrs:{href:"#"},on:{click:function(n){n.preventDefault(),e.unselectCategory(t.id)}}},[n("font-awesome-icon",{staticClass:"text-red",attrs:{icon:"times"}})],1)])])])}),0),n("div",{staticClass:"clearfix"}),n("div",e._l(e.availableCategories,function(t,s){return n("div",{key:"available-category-"+s,staticClass:"inline-block"},[n("a",{staticClass:"btn btn-outline-secondary mb-2 mr-2",class:{disabled:e.pluginDraft.categoryIds.length>=e.maxCategories},attrs:{href:"#"},on:{click:function(n){n.preventDefault(),e.selectCategory(t.id)}}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v("\n                    "+e._s(t.title)+"\n                ")],1)])}),0)],1)])},$s=[],Is=n("1516"),Ss=n.n(Is),Es={components:{draggable:Ss.a},props:["pluginDraft"],data:function(){return{maxCategories:3}},computed:Object(we["a"])({},Object(i["d"])({categories:function(e){return e.craftId.categories}}),{selectedCategories:function(){var e=this,t=[];return this.pluginDraft.categoryIds.forEach(function(n){var s=e.categories.find(function(e){return e.id==n});t.push(s)}),t},availableCategories:function(){var e=this;return this.categories.filter(function(t){return!e.pluginDraft.categoryIds.find(function(e){return e==t.id})})},categoryOptions:function(){var e=this,t=[];return this.categories.forEach(function(n){var s=e.pluginDraft.categoryIds.find(function(e){return e==n.id}),i={label:n.title,value:n.id,checked:s};t.push(i)}),t}}),methods:{selectCategory:function(e){if(this.pluginDraft.categoryIds.length<this.maxCategories){var t=this.pluginDraft.categoryIds.find(function(t){return t==e});t||this.pluginDraft.categoryIds.push(e)}},unselectCategory:function(e){var t=this.pluginDraft.categoryIds.indexOf(e);-1!==t&&this.pluginDraft.categoryIds.splice(t,1)}}},Ts=Es,Os=Object(Ne["a"])(Ts,Ps,$s,!1,null,null,null);Os.options.__file="PluginCategories.vue";var As=Os.exports,Ns=n("5392"),js=n.n(Ns),Us={components:{ConnectedApps:vs,Repositories:Ds,PluginCategories:As,Spinner:Ue,draggable:Ss.a},data:function(){return{loading:!1,pluginSubmitLoading:!1,repositoryLoading:!1,loadingRepository:null,pluginDraft:{id:null,icon:null,iconId:null,developerId:null,editions:[{name:"Standard",handle:"standard",features:[]}],enabled:!1,handle:"",packageName:"",name:"",shortDescription:"",longDescription:"",documentationUrl:"",changelogPath:"",repository:"",license:"craft",price:0,renewalPrice:0,iconUrl:null,categoryIds:[],screenshots:[],screenshotIds:[],screenshotUrls:[],keywords:""},errors:{}}},computed:Object(we["a"])({},Object(i["d"])({apps:function(e){return e.account.apps},plugins:function(e){return e.developers.plugins}}),Object(i["c"])({userIsInGroup:"account/userIsInGroup"}),{pluginId:function(){return this.$route.params.id},plugin:function(){var e=this;return this.plugins.find(function(t){return t.id==e.pluginId})},connectedAppsCount:function(){return Vn()(this.apps).length},screenshots:{get:function(){var e=this,t=[];return this.pluginDraft.screenshotIds.forEach(function(n,s){var i={id:n,url:e.pluginDraft.screenshotUrls[s]};t.push(i)}),t},set:function(e){var t=[],n=[];e.forEach(function(e){t.push(e.id),n.push(e.url)}),this.pluginDraft.screenshotIds=t,this.pluginDraft.screenshotUrls=n}},maxUploadSize:function(){return this.humanFileSize(Craft.maxUploadSize)}}),methods:{onInputName:function(e){if(!this.pluginId){var t=js()(e);this.pluginDraft.handle=t}},onSelectRepository:function(e){this.loadDetails(e.html_url)},removeScreenshot:function(e){this.pluginDraft.screenshotUrls.splice(e,1),this.pluginDraft.screenshotIds.splice(e,1);for(var t=this.$refs.screenshots.getElementsByClassName("btn"),n=0;n<t.length;n++)t[n].blur()},changeScreenshots:function(){this.pluginDraft.screenshotUrls=[];for(var e=this.$refs.screenshotFiles.files,t=0;t<e.length;t++){var n=new FileReader;n.onload=function(e){var t=e.target.result;this.pluginDraft.screenshotUrls.push(t)}.bind(this),n.readAsDataURL(e[t])}},changeIcon:function(e){this.pluginDraft.icon=e.target.value;var t=new FileReader;t.onload=function(e){this.pluginDraft.iconUrl=e.target.result}.bind(this),t.readAsDataURL(this.$refs.iconFile.files[0])},loadDetails:function(e){var t=this;this.repositoryLoading=!0,this.loadingRepository=e;var n={repository:encodeURIComponent(i),action:"craftnet/plugins/load-details"};n[Craft.csrfTokenName]=Craft.csrfTokenValue;var s=g.a.stringify(n),i=e;m.a.post(Craft.actionUrl+"/craftnet/plugins/load-details&repository="+encodeURIComponent(i),s).then(function(n){t.repositoryLoading=!1,t.loadingRepository=null,n.data.error?t.$store.dispatch("app/displayError",n.data.error):(t.pluginDraft.repository=e,n.data.changelogPath&&(t.pluginDraft.changelogPath=n.data.changelogPath),n.data.documentationUrl&&(t.pluginDraft.documentationUrl=n.data.documentationUrl),n.data.name&&(t.pluginDraft.name=n.data.name),n.data.handle&&(t.pluginDraft.handle=n.data.handle),n.data.shortDescription&&(t.pluginDraft.shortDescription=n.data.shortDescription),n.data.packageName&&(t.pluginDraft.packageName=n.data.packageName),n.data.iconId&&(t.pluginDraft.iconId=n.data.iconId),n.data.iconUrl&&(t.pluginDraft.iconUrl=n.data.iconUrl),n.data.license&&(t.pluginDraft.license=n.data.license),n.data.keywords&&(t.pluginDraft.keywords=n.data.keywords.join(", ")))}).catch(function(){t.repositoryLoading=!1,t.$store.dispatch("app/displayError","Couldn’t load repository")})},save:function(){var e=this;this.loading=!0;var t={icon:this.$refs.iconFile.files[0],handle:this.pluginDraft.handle,packageName:this.pluginDraft.packageName,name:this.pluginDraft.name,shortDescription:this.pluginDraft.shortDescription,longDescription:this.pluginDraft.longDescription,documentationUrl:this.pluginDraft.documentationUrl,changelogPath:this.pluginDraft.changelogPath,repository:this.pluginDraft.repository,license:this.pluginDraft.license,keywords:this.pluginDraft.keywords,categoryIds:[],screenshotIds:[],editions:this.pluginDraft.editions};this.pluginDraft.iconId&&(t.iconId=[gn()(this.pluginDraft.iconId)]),this.pluginDraft.id&&(t.pluginId=this.pluginDraft.id),this.pluginDraft.categoryIds.length>0&&(t.categoryIds=this.pluginDraft.categoryIds),this.$refs.screenshotFiles.files.length>0&&(t.screenshots=this.$refs.screenshotFiles.files),this.pluginDraft.screenshotUrls.length>0&&(t.screenshotUrls=this.pluginDraft.screenshotUrls),this.pluginDraft.screenshotIds.length>0&&(t.screenshotIds=this.pluginDraft.screenshotIds),this.$store.dispatch("developers/savePlugin",{plugin:t}).then(function(){e.loading=!1,e.$store.dispatch("app/displayNotice","Plugin saved."),e.$router.push({path:"/developer/plugins"})}).catch(function(t){e.loading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t save plugin.";e.$store.dispatch("app/displayError",n),e.errors=t.data&&t.data.errors?t.data.errors:{}})},submit:function(){var e=this;this.pluginSubmitLoading=!0,this.$store.dispatch("developers/submitPlugin",this.plugin.id).then(function(){e.pluginSubmitLoading=!1,e.$store.dispatch("app/displayNotice","Plugin submitted for approval.")}).catch(function(t){e.pluginSubmitLoading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t submit plugin for approval.";e.$store.dispatch("app/displayError",n),e.errors=t.data&&t.data.errors?t.data.errors:{}})},humanFileSize:function(e){var t=1024;if(e<t)return e+" B";var n=["kB","MB","GB","TB","PB","EB","ZB","YB"],s=-1;do{e/=t,++s}while(e>=t);return e.toFixed(1)+" "+n[s]},addFeature:function(e){this.pluginDraft.editions[e].features.push({})},removeFeature:function(e,t){this.pluginDraft.editions[e].features.splice(t,1)}},mounted:function(){this.plugin?(this.pluginDraft=JSON.parse(it()(this.plugin)),this.pluginDraft.price||(this.pluginDraft.price=0),this.pluginDraft.renewalPrice||(this.pluginDraft.renewalPrice=0)):this.pluginId&&this.$router.push({path:"/developer/plugins"})}},Rs=Us,Ms=(n("1bd2"),Object(Ne["a"])(Rs,Mn,Fn,!1,null,"5808df7c",null));Ms.options.__file="_id.vue";var Fs=Ms.exports,Bs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.userDraft?n("form",{on:{submit:function(t){t.preventDefault(),e.save()}}},[n("h1",[e._v("Profile")]),n("text-field",{attrs:{id:"developerName",label:"Developer Name",errors:e.errors.developerName},model:{value:e.userDraft.developerName,callback:function(t){e.$set(e.userDraft,"developerName",t)},expression:"userDraft.developerName"}}),n("url-field",{attrs:{id:"developerUrl",label:"Developer URL",errors:e.errors.developerUrl},model:{value:e.userDraft.developerUrl,callback:function(t){e.$set(e.userDraft,"developerUrl",t)},expression:"userDraft.developerUrl"}}),n("text-field",{attrs:{id:"location",label:"Location",errors:e.errors.location},model:{value:e.userDraft.location,callback:function(t){e.$set(e.userDraft,"location",t)},expression:"userDraft.location"}}),n("hr"),n("h2",[e._v("Photo")]),n("div",{staticClass:"flex"},[n("div",{},[n("img",{ref:"photo",staticClass:"img-thumbnail mr-3",staticStyle:{width:"150px",height:"150px"},attrs:{src:e.userDraft.photoUrl}})]),n("div",[e.userDraft.photoId?[n("div",{staticClass:"field"},[n("input",{staticClass:"btn btn-secondary",attrs:{type:"button",value:"Change Photo",disabled:e.photoLoading},on:{click:e.changePhoto}})]),n("div",{staticClass:"field"},[n("a",{staticClass:"btn btn-danger",attrs:{href:"#",disabled:e.photoLoading},on:{click:function(t){return t.preventDefault(),e.deletePhoto(t)}}},[n("font-awesome-icon",{attrs:{icon:"times"}}),e._v("\n                        Delete\n                    ")],1)])]:[n("div",{staticClass:"field"},[n("input",{staticClass:"btn btn-secondary",attrs:{type:"button",value:"Upload a photo",disabled:e.photoLoading},on:{click:e.changePhoto}})])],e.photoLoading?n("spinner"):e._e(),n("input",{ref:"photoFile",staticClass:"hidden",attrs:{type:"file"},on:{change:e.onChangePhoto}})],2)]),n("hr"),e._m(0),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save",disabled:e.loading}}),e.loading?n("spinner"):e._e()],1):e._e()},Vs=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"text-secondary"},[n("em",[e._v("Your profile data is being used for your developer page on the Plugin Store.")])])}],qs={components:{ConnectedApps:vs,Spinner:Ue},data:function(){return{loading:!1,photoLoading:!1,userDraft:{},password:"",newPassword:"",errors:{}}},computed:Object(we["a"])({},Object(i["d"])({currentUser:function(e){return e.account.currentUser}}),Object(i["c"])({userIsInGroup:"account/userIsInGroup"})),methods:{deletePhoto:function(){var e=this;confirm("Are you sure you want to delete this image?")&&(this.photoLoading=!0,this.$store.dispatch("account/deleteUserPhoto").then(function(t){e.$store.dispatch("app/displayNotice","Photo deleted."),e.userDraft.photoId=t.data.photoId,e.userDraft.photoUrl=t.data.photoUrl,e.photoLoading=!1}).catch(function(t){e.photoLoading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t delete photo.";e.$store.dispatch("app/displayError",n),e.errors=t.data&&t.data.errors?t.data.errors:{}}))},changePhoto:function(){this.$refs.photoFile.click()},onChangePhoto:function(){var e=this;this.photoLoading=!0;var t={photo:this.$refs.photoFile.files[0],photoUrl:this.userDraft.photoUrl};this.$store.dispatch("account/uploadUserPhoto",t).then(function(t){e.$store.dispatch("app/displayNotice","Photo uploaded.");var n=t.data.photoUrl;e.userDraft.photoId=t.data.photoId,e.userDraft.photoUrl=n+(n.match(/\?/g)?"&":"?")+Math.floor(1e6*Math.random()),e.errors={},e.photoLoading=!1}).catch(function(t){e.photoLoading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t upload photo.";e.$store.dispatch("app/displayError",n),e.errors=t.data&&t.data.errors?t.data.errors:{}})},save:function(){var e=this;this.loading=!0,this.$store.dispatch("account/saveUser",{id:this.userDraft.id,developerName:this.userDraft.developerName,developerUrl:this.userDraft.developerUrl,location:this.userDraft.location,photoUrl:this.userDraft.photoUrl}).then(function(){e.$store.dispatch("app/displayNotice","Settings saved."),e.errors={},e.loading=!1}).catch(function(t){e.loading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t save profile.";e.$store.dispatch("app/displayError",n),e.errors=t.data&&t.data.errors?t.data.errors:{}})}},mounted:function(){this.userDraft=JSON.parse(it()(this.currentUser))}},zs=qs,Ks=Object(Ne["a"])(zs,Bs,Vs,!1,null,null,null);Ks.options.__file="profile.vue";var Xs=Ks.exports,Gs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.sale?n("div",[n("p",[n("router-link",{staticClass:"nav-link",attrs:{to:"/developer/sales",exact:""}},[e._v("← Sales")])],1),n("h1",[e._v("#SAL000"+e._s(e.sale.id))]),n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h3",[e._v(e._s(e._f("currency")(e.sale.netAmount)))]),n("p",{staticClass:"text-secondary"},[e._v("#SAL000"+e._s(e.sale.id))]),n("hr"),n("div",{staticClass:"responsive-content"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"w-1/2"},[n("dl",[n("dt",[e._v("Item")]),n("dd",[e._v(e._s(e.sale.plugin.name))]),n("dt",[e._v("Type")]),n("dd",[e._v(e._s(e.sale.type))]),n("dt",[e._v("Gross Amount")]),n("dd",[e._v(e._s(e._f("currency")(e.sale.grossAmount)))]),n("dt",[e._v("Net Amount")]),n("dd",[e._v(e._s(e._f("currency")(e.sale.netAmount)))])])]),n("div",{staticClass:"w-1/2"},[n("dl",[n("dt",[e._v("Sale ID")]),n("dd",[e._v("#SAL000"+e._s(e.sale.id))]),n("dt",[e._v("Customer")]),n("dd",[n("a",{attrs:{href:"mailto:"+e.sale.customer.email}},[e._v(e._s(e.sale.customer.email))])]),n("dt",[e._v("Date")]),n("dd",[e._v(e._s(e.sale.date))])])])])])])])]):e._e()},Ws=[],Hs={computed:Object(we["a"])({},Object(i["c"])({getSaleById:"developers/getSaleById"}),{sale:function(){return this.getSaleById(this.$route.params.id)}})},Qs=Hs,Ys=Object(Ne["a"])(Qs,Gs,Ws,!1,null,null,null);Ys.options.__file="_id.vue";var Js=Ys.exports,Zs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("stripe-account-alert"),n("h1",[e._v("Sales")]),e.salesToRender.length>0?[n("div",{staticClass:"field mb-6"},[n("text-input",{staticClass:"form-control",attrs:{id:"searchQuery",name:"searchQuery",type:"text",placeholder:"Search sales"},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),n("div",{staticClass:"card card-table responsive-content"},[n("table",{staticClass:"table"},[e._m(0),n("tbody",e._l(e.salesToRender,function(t,s){return n("tr",{key:s},[n("td",[e._v(e._s(t.plugin.name))]),n("td",[n("a",{attrs:{href:"mailto:"+t.customer.email}},[e._v(e._s(t.customer.email))])]),n("td",{staticClass:"text-secondary"},[e._v("License Purchase")]),n("td",[e._v(e._s(e._f("currency")(t.grossAmount)))]),n("td",[e._v(e._s(e._f("currency")(t.netAmount)))]),n("td",{staticClass:"date-col"},[e._v(e._s(e._f("moment")(t.saleTime,"LLL")))])])}),0)])])]:[n("empty",[n("font-awesome-icon",{staticClass:"text-5xl mb-4 text-grey-light",attrs:{icon:"dollar-sign"}}),n("div",{staticClass:"font-bold"},[e._v("No sales")]),n("div",[e._v("You don’t have any sales yet.")])],1)]],2)},ei=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Item")]),n("th",[e._v("Customer")]),n("th",[e._v("Type")]),n("th",[e._v("Gross Amount")]),n("th",[e._v("Net Amount")]),n("th",[e._v("Date")])])])}],ti=(n("3b2b"),{components:{StripeAccountAlert:An,Empty:wn},data:function(){return{searchQuery:""}},computed:Object(we["a"])({},Object(i["d"])({sales:function(e){return e.developers.sales}}),{salesToRender:function(){var e=this.searchQuery;return this.sales.filter(function(t){if(t){var n=new RegExp(e,"gi");if(t.customer.name.match(n))return!0;if(t.customer.email.match(n))return!0}})}})}),ni=ti,si=Object(Ne["a"])(ni,Zs,ei,!1,null,null,null);si.options.__file="index.vue";var ii=si.exports,ai=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Developer Settings")]),n("h2",[e._v("Connected Apps")]),n("connected-apps",{attrs:{title:"Connected Apps","show-stripe":!0}}),n("div",{staticClass:"card mt-6"},[n("div",{staticClass:"card-body"},[n("form",{on:{submit:function(t){t.preventDefault(),e.generateToken()}}},[n("h4",[e._v("API Token")]),e.notice?n("p",[e._v("This is your new API token, "),n("strong",[e._v("keep it someplace safe")]),e._v(".")]):e._e(),n("div",{staticClass:"max-w-sm"},[n("text-field",{ref:"apiTokenField",staticClass:"mono",attrs:{id:"apiToken",spellcheck:"false",readonly:!0},model:{value:e.apiToken,callback:function(t){e.apiToken=t},expression:"apiToken"}})],1),e.apiToken?n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Generate new API Token"}}):n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Generate API Token"}}),e.loading?n("spinner"):e._e()],1)])])],1)},ri=[],oi={data:function(){return{apiToken:"",loading:!1,notice:!1}},components:{ConnectedApps:vs,Spinner:Ue},computed:Object(we["a"])({},Object(i["d"])({hasApiToken:function(e){return e.developers.hasApiToken},currentUser:function(e){return e.account.currentUser}})),methods:{generateToken:function(){var e=this;this.loading=!0,this.$store.dispatch("developers/generateApiToken").then(function(t){e.apiToken=t.data.apiToken;var n=e.$refs.apiTokenField.$el.querySelector("input");e.$nextTick(function(){n.select()}),e.notice=!0,e.loading=!1,e.$store.dispatch("app/displayNotice","API token generated.")}).catch(function(t){e.loading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t generate API token.";e.$store.dispatch("app/displayError",n)})}},mounted:function(){this.hasApiToken&&(this.apiToken="****************************************")}},ci=oi,li=Object(Ne["a"])(ci,ai,ri,!1,null,null,null);li.options.__file="settings.vue";var di=li.exports,ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Claim license")]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-body"},[n("h3",[e._v("Claim a Craft CMS license")]),n("p",{staticClass:"text-secondary"},[e._v("Attach a Craft CMS license to your Craft ID account.")]),n("form",{staticClass:"mb-6",on:{submit:function(t){t.preventDefault(),e.claimCmsLicense()}}},[n("textarea-field",{staticClass:"mono",attrs:{id:"cmsLicenseKey",spellcheck:"false",label:"Craft CMS License Key",rows:"5"},on:{input:e.cmsLicenseKeyChange},model:{value:e.cmsLicenseKey,callback:function(t){e.cmsLicenseKey=t},expression:"cmsLicenseKey"}}),n("input",{staticClass:"btn btn-primary",class:{disabled:!e.cmsLicenseValidates},attrs:{type:"submit",value:"Claim License",disabled:!e.cmsLicenseValidates}}),e.cmsLicenseLoading?n("spinner"):e._e()],1),n("form",{on:{submit:function(t){t.preventDefault(),e.claimCmsLicenseFile()}}},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"block",attrs:{for:"licenseFile"}},[e._v("Or upload your license.key file")]),n("input",{ref:"licenseFile",staticClass:"form-control",attrs:{type:"file",id:"licenseFile",name:"licenseFile"},on:{change:e.cmsLicenseFileChange}})]),n("input",{staticClass:"btn btn-primary",class:{disabled:!e.cmsLicenseFileValidates},attrs:{type:"submit",value:"Claim License",disabled:!e.cmsLicenseFileValidates}}),e.cmsLicenseFileLoading?n("spinner"):e._e()],1)])]),n("div",{staticClass:"card mb-6"},[n("div",{staticClass:"card-body"},[n("h3",[e._v("Claim a plugin license")]),n("p",{staticClass:"text-secondary"},[e._v("Attach a plugin license to your Craft ID account.")]),n("form",{on:{submit:function(t){t.preventDefault(),e.claimPluginLicense()}}},[n("text-field",{staticClass:"mono",attrs:{id:"pluginLicenseKey",spellcheck:"false",label:"Plugin License Key",placeholder:"XXXX-XXXX-XXXX-XXXX-XXXX-XXXX",mask:{mask:"****-****-****-****-****-****",placeholder:" ",showMaskOnHover:!1,showMaskOnFocus:!1}},model:{value:e.pluginLicenseKey,callback:function(t){e.pluginLicenseKey=t},expression:"pluginLicenseKey"}}),n("input",{staticClass:"btn btn-primary",class:{disabled:!e.pluginLicenseValidates},attrs:{type:"submit",value:"Claim License",disabled:!e.pluginLicenseValidates}}),e.pluginLicenseLoading?n("spinner"):e._e()],1)])]),n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h3",[e._v("Claim licenses by your email address")]),n("p",{staticClass:"text-secondary"},[e._v("Use an email address to attach Craft CMS and plugin licenses to your Craft ID account.")]),n("form",{on:{submit:function(t){t.preventDefault(),e.claimLicensesByEmail()}}},[n("text-field",{attrs:{id:"email",label:"Email Address",placeholder:"user@example.com"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("input",{staticClass:"btn btn-primary",class:{disabled:e.$v.email.$invalid},attrs:{type:"submit",value:"Claim Licenses",disabled:e.$v.email.$invalid}}),e.emailLoading?n("spinner"):e._e()],1)])])])},pi=[],fi=n("b5ae"),hi={components:{Spinner:Ue},data:function(){return{cmsLicenseKey:"",cmsLicenseLoading:!1,cmsLicenseValidates:!1,cmsLicenseFile:"",cmsLicenseFileLoading:!1,cmsLicenseFileValidates:!1,pluginLicenseKey:"",pluginLicenseLoading:!1,pluginLicenseValidates:!1,email:"",emailLoading:!1}},validations:{email:{required:fi["required"],email:fi["email"]}},methods:{checkCmsLicense:function(){return 258===this.cmsLicenseKey.length},checkPluginLicense:function(){var e=this.pluginLicenseKey.replace(/(- )/gm,"").trim();return 29===e.length},claimCmsLicense:function(){var e=this;this.cmsLicenseLoading=!0,this.$store.dispatch("licenses/claimCmsLicense",this.cmsLicenseKey).then(function(){e.cmsLicenseLoading=!1,e.$store.dispatch("licenses/getCmsLicenses"),e.$store.dispatch("licenses/getPluginLicenses"),e.$store.dispatch("account/getInvoices"),e.$store.dispatch("app/displayNotice","CMS license claimed."),e.$router.push({path:"/licenses/cms"})}).catch(function(t){e.cmsLicenseLoading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t claim CMS license.";e.$store.dispatch("app/displayError",n)})},claimCmsLicenseFile:function(){var e=this;this.$store.dispatch("licenses/claimCmsLicenseFile",this.$refs.licenseFile.files[0]).then(function(){e.cmsLicenseFileLoading=!1,e.$store.dispatch("licenses/getCmsLicenses"),e.$store.dispatch("licenses/getPluginLicenses"),e.$store.dispatch("account/getInvoices"),e.$store.dispatch("app/displayNotice","CMS license claimed."),e.$router.push({path:"/licenses/cms"})}).catch(function(t){e.cmsLicenseFileLoading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t claim CMS license.";e.$store.dispatch("app/displayError",n)})},claimLicensesByEmail:function(){var e=this;this.emailLoading=!0,this.$store.dispatch("licenses/claimLicensesByEmail",this.email).then(function(){e.emailLoading=!1,e.$store.dispatch("licenses/getCmsLicenses"),e.$store.dispatch("licenses/getPluginLicenses"),e.$store.dispatch("account/getInvoices"),e.$store.dispatch("app/displayNotice","Verification email sent to "+e.email+".")}).catch(function(t){e.emailLoading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t claim licenses.";e.$store.dispatch("app/displayError",n)})},claimPluginLicense:function(){var e=this;this.pluginLicenseLoading=!0,this.$store.dispatch("licenses/claimPluginLicense",this.pluginLicenseKey).then(function(){e.pluginLicenseLoading=!1,e.$store.dispatch("licenses/getCmsLicenses"),e.$store.dispatch("licenses/getPluginLicenses"),e.$store.dispatch("account/getInvoices"),e.$store.dispatch("app/displayNotice","Plugin license claimed."),e.$router.push({path:"/licenses/plugins"})}).catch(function(t){e.pluginLicenseLoading=!1;var n=t.data&&t.data.error?t.data.error:"Couldn’t claim plugin license.";e.$store.dispatch("app/displayError",n)})},cmsLicenseKeyChange:function(e){var t=this;this.$nextTick(function(){t.cmsLicenseKey=t.$options.filters.formatCmsLicense(e)})},cmsLicenseFileChange:function(){this.cmsLicenseFileValidates=this.$refs.licenseFile.files.length>0}},watch:{cmsLicenseKey:function(){this.cmsLicenseValidates=this.checkCmsLicense()},pluginLicenseKey:function(){this.pluginLicenseValidates=this.checkPluginLicense()}}},mi=hi,vi=Object(Ne["a"])(mi,ui,pi,!1,null,null,null);vi.options.__file="claim.vue";var gi=vi.exports,bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.license?n("div",[n("p",[n("router-link",{staticClass:"nav-link",attrs:{to:"/licenses/cms",exact:""}},[e._v("← Craft CMS")])],1),n("h1",[n("code",[e._v(e._s(e.license.key.substr(0,10)))])]),n("cms-license-details",{attrs:{license:e.license}}),n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Plugin Licenses")]),e.license.pluginLicenses.length>0?[n("p",{staticClass:"text-secondary mb-4"},[e._v("Plugin licenses attached to this Craft CMS license.")]),n("plugin-licenses-table",{attrs:{licenses:e.license.pluginLicenses,"exclude-cms-license-column":!0,"exclude-notes-column":!0,"auto-renew-switch":!0}})]:[n("p",{staticClass:"text-secondary mb-4"},[e._v("No plugin licenses are attached to this Craft CMS license.")])]],2)]),n("license-history",{attrs:{history:e.license.history}}),n("div",{staticClass:"card card-danger mb-3"},[n("div",{staticClass:"card-header"},[e._v("Danger Zone")]),n("div",{staticClass:"card-body"},[n("h5",[e._v("Release license")]),n("p",[e._v("Release this license if you no longer wish to use it, so that it can be claimed by someone else.")]),n("div",[n("button",{staticClass:"btn btn-danger",on:{click:function(t){e.releaseCmsLicense()}}},[e._v("Release License")])])])])],1):e._e()},_i=[],Ci=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h4",{staticClass:"mb-4"},[e._v("License Details")]),e.license?[n("div",{staticClass:"md:flex -mx-4"},[n("div",{staticClass:"md:w-1/2 px-4"},[n("dl",[n("dt",[e._v("Edition")]),n("dd",[e._v(e._s(e._f("capitalize")(e.license.edition)))]),n("dt",[e._v("License Key")]),n("dd",[n("code",[e._v(e._s(e.license.key.slice(0,10))+"…")]),n("a",{staticClass:"ml-2",attrs:{href:"#copy"},on:{click:e.copyLicense}},[e._v("Copy")]),n("a",{staticClass:"ml-2",attrs:{href:e.downloadLicenseUrl,target:"_blank"}},[e._v("Download")])]),n("dt",[e._v("Domain Name")]),n("dd",[e.domainEditing?e._e():[n("p",[e._v(e._s(e.license.domain))]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(t){e.domainEditing=!0}}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),e._v("\n                                            Change Domain\n                                        ")],1)])],e.domainEditing?n("form",{on:{submit:function(t){t.preventDefault(),e.saveDomain()}}},[n("text-field",{attrs:{id:"domain"},on:{input:e.domainChange},model:{value:e.licenseDraft.domain,callback:function(t){e.$set(e.licenseDraft,"domain",t)},expression:"licenseDraft.domain"}}),n("input",{staticClass:"btn btn-primary",class:{disabled:!e.domainValidates},attrs:{type:"submit",value:"Save",disabled:!e.domainValidates}}),n("input",{staticClass:"btn btn-secondary",attrs:{type:"button",value:"Cancel"},on:{click:function(t){e.cancelEditDomain()}}}),e.domainLoading?n("spinner"):e._e()],1):e._e()],2)])]),n("div",{staticClass:"md:w-1/2 px-4"},[n("dl",[n("dt",[e._v("Email")]),n("dd",[e._v(e._s(e.license.email))]),n("dt",[e._v("Created")]),n("dd",[e._v(e._s(e._f("moment")(e.license.dateCreated.date,"L")))]),n("dt",[e._v("Updates Until")]),n("dd",[e.license.expirable&&e.license.expiresOn?[e._v("\n                                    "+e._s(e._f("moment")(e.license.expiresOn.date,"L"))+"\n                                ")]:[e._v("\n                                    Forever\n                                ")]],2),n("dt",[e._v("Notes")]),n("dd",[e.notesEditing?e._e():[n("p",[e._v(e._s(e.license.notes))]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(t){e.notesEditing=!0}}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),e._v("\n                                            Edit\n                                        ")],1)])],e.notesEditing?n("form",{on:{submit:function(t){t.preventDefault(),e.saveNotes()}}},[n("textarea-field",{attrs:{id:"notes"},on:{input:e.notesChange},model:{value:e.licenseDraft.notes,callback:function(t){e.$set(e.licenseDraft,"notes",t)},expression:"licenseDraft.notes"}}),n("input",{staticClass:"btn btn-primary",class:{disabled:!e.notesValidates},attrs:{type:"submit",value:"Save",disabled:!e.notesValidates}}),n("input",{staticClass:"btn btn-secondary",attrs:{type:"button",value:"Cancel"},on:{click:function(t){e.cancelEditNotes()}}}),e.notesLoading?n("spinner"):e._e()],1):e._e()],2)])])])]:e._e()],2)]),e.license.expirable&&e.license.expiresOn?n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Auto-Renew")]),e.licenseDraft.autoRenew?[e._m(0)]:[e._m(1)],n("lightswitch-field",{attrs:{id:"auto-renew",checked:e.licenseDraft.autoRenew},on:{change:e.saveAutoRenew,"update:checked":function(t){e.$set(e.licenseDraft,"autoRenew",t)}}})],2)]):e._e(),n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Updates")]),n("license-update-message",{attrs:{license:e.license}}),n("button",{staticClass:"btn btn-secondary",on:{click:function(t){e.showRenewLicensesModal("extend-updates")}}},[e._v("Renew your license…")])],1)])])},yi=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Auto-renew is "),n("strong",[e._v("enabled")]),e._v(" for this license.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Auto-renew is "),n("strong",[e._v("disabled")]),e._v(" for this license.")])}],wi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.license&&e.license.expirable&&e.license.expiresOn?[e.license.expired?[n("p",[e._v("This license has expired and doesn’t have access to updates anymore.")])]:[e.expiresSoon(e.license)?[e.license.autoRenew?[n("p",[e._v("This license will auto-renew in "),n("span",{staticClass:"text-green"},[e._v(e._s(e.daysBeforeExpiry(e.license))+" days")]),e._v(".")])]:[n("p",[e._v("This license will lose access to updates in "),n("span",{staticClass:"text-orange"},[e._v(e._s(e.daysBeforeExpiry(e.license))+" days")]),e._v(".")])]]:[e.license.autoRenew?[n("p",[e._v("This license will auto-renew on "),n("strong",[e._v(e._s(e._f("moment")(e.license.expiresOn.date,"L")))]),e._v(".")])]:[n("p",[e._v("This license will continue having access to updates until "),n("strong",[e._v(e._s(e._f("moment")(e.license.expiresOn.date,"L")))]),e._v(".")])]]]]:[n("p",[e._v("This license will always have access to updates.")])]],2)},xi=[],Li={props:["license"],computed:Object(we["a"])({},Object(i["c"])({expiresSoon:"licenses/expiresSoon",daysBeforeExpiry:"licenses/daysBeforeExpiry"}))},ki=Li,Di=Object(Ne["a"])(ki,wi,xi,!1,null,null,null);Di.options.__file="LicenseUpdateMessage.vue";var Pi=Di.exports,$i={props:["license"],components:{Spinner:Ue,LicenseUpdateMessage:Pi},data:function(){return{errors:{},licenseDraft:{},domainEditing:!1,domainLoading:!1,domainValidates:!1,notesEditing:!1,notesLoading:!1,notesValidates:!1,renewLicenses:!1}},computed:{canSave:function(){return this.license.domain!=this.licenseDraft.domain||this.license.notes!=this.licenseDraft.notes},formattedLicense:function(){var e=this.license.key,t=this.$options.filters.formatCmsLicense(e);return t},downloadLicenseUrl:function(){return Craft.actionUrl+"/craftnet/id/cms-licenses/download&id="+this.license.id}},methods:Object(we["a"])({},Object(i["b"])({showRenewLicensesModal:"app/showRenewLicensesModal"}),{saveAutoRenew:function(){var e=this;this.$store.dispatch("licenses/saveCmsLicense",{key:this.license.key,autoRenew:this.licenseDraft.autoRenew?1:0}).then(function(){e.licenseDraft.autoRenew?e.$store.dispatch("app/displayNotice","Auto renew enabled."):e.$store.dispatch("app/displayNotice","Auto renew disabled.")}).catch(function(t){e.$store.dispatch("app/displayError","Couldn’t save license."),e.errors=t.data.errors})},saveDomain:function(){var e=this;this.domainLoading=!0;var t=this.licenseDraft.domain;this.saveCmsLicense(function(n){var s=n.data.license.domain;t&&t!==s?(e.licenseDraft.domain=s,s?e.$store.dispatch("app/displayNotice","Domain changed to "+s+"."):e.$store.dispatch("app/displayNotice",t+" is not a public domain.")):e.$store.dispatch("app/displayNotice","Domain saved."),e.domainLoading=!1,e.domainEditing=!1},function(){e.domainLoading=!1})},saveNotes:function(){var e=this;this.notesLoading=!0,this.saveCmsLicense(function(){e.notesLoading=!1,e.notesEditing=!1,e.$store.dispatch("app/displayNotice","Notes saved.")},function(){e.notesLoading=!1})},saveCmsLicense:function(e,t){var n=this;this.$store.dispatch("licenses/saveCmsLicense",{key:this.license.key,domain:this.licenseDraft.domain,notes:this.licenseDraft.notes}).then(function(t){e(t)}).catch(function(e){t();var s=e.data&&e.data.error?e.data.error:"Couldn’t save license.";n.$store.dispatch("app/displayError",s)})},cancelEditDomain:function(){this.licenseDraft.domain=this.license.domain,this.domainEditing=!1,this.domainValidates=!1},cancelEditNotes:function(){this.licenseDraft.notes=this.license.notes,this.notesEditing=!1,this.notesValidates=!1},notesChange:function(){this.notesValidates=!1,this.licenseDraft.notes!==this.license.notes&&(this.notesValidates=!0)},domainChange:function(){this.domainValidates=!1,this.licenseDraft.domain!==this.license.domain&&(this.domainValidates=!0)},copyLicense:function(){var e=document.createElement("input");document.body.appendChild(e),e.value=this.license.key,e.select(),document.execCommand("copy"),e.remove(),this.$store.dispatch("app/displayNotice","License key copied.")}}),mounted:function(){this.licenseDraft={autoRenew:1==this.license.autoRenew,domain:this.license.domain,notes:this.license.notes}}},Ii=$i,Si=Object(Ne["a"])(Ii,Ci,yi,!1,null,null,null);Si.options.__file="CmsLicenseDetails.vue";var Ei=Si.exports,Ti=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Activity")]),e.history.length?n("table",{staticClass:"table"},[e._m(0),n("tbody",e._l(e.history,function(t,s){return n("tr",{key:s},[n("td",[e._v(e._s(t.note))]),n("td",[e._v(e._s(t.timestamp))])])}),0)]):n("p",{staticClass:"text-secondary"},[e._v("No license history.")])])])},Oi=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Notes")]),n("th",[e._v("Date")])])])}],Ai={props:["history"]},Ni=Ai,ji=Object(Ne["a"])(Ni,Ti,Oi,!1,null,null,null);ji.options.__file="LicenseHistory.vue";var Ui=ji.exports,Ri={components:{CmsLicenseDetails:Ei,PluginLicensesTable:Qt,LicenseHistory:Ui},computed:Object(we["a"])({},Object(i["d"])({cmsLicenses:function(e){return e.licenses.cmsLicenses},pluginLicenses:function(e){return e.licenses.pluginLicenses}}),{license:function(){var e=this;return this.cmsLicenses.find(function(t){return t.id==e.$route.params.id})}}),methods:{releaseCmsLicense:function(){var e=this;if(!window.confirm("Are you sure you want to release this license?"))return!1;this.$store.dispatch("licenses/releaseCmsLicense",this.license.key).then(function(){e.$store.dispatch("licenses/getCmsLicenses"),e.$store.dispatch("licenses/getPluginLicenses"),e.$store.dispatch("account/getInvoices"),e.$store.dispatch("app/displayNotice","CMS license released."),e.$router.push({path:"/licenses/cms"})}).catch(function(t){var n=t.data&&t.data.error?t.data.error:"Couldn’t release CMS license.";e.$store.dispatch("app/displayError",n)})}},mounted:function(){this.$store.commit("app/updateRenewLicense",this.license)}},Mi=Ri,Fi=Object(Ne["a"])(Mi,bi,_i,!1,null,null,null);Fi.options.__file="_id.vue";var Bi=Fi.exports,Vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("license-renew-alert",{attrs:{type:"CMS","expiring-licenses":e.expiringCmsLicenses}}),n("h1",[e._v("Craft CMS")]),e.cmsLicenses.length>0?n("div",{staticClass:"card card-table responsive-content"},[n("cms-licenses-table",{attrs:{type:"craft",licenses:e.cmsLicenses}})],1):n("empty",[n("font-awesome-icon",{staticClass:"text-5xl mb-4 text-grey-light",attrs:{icon:"key"}}),n("div",{staticClass:"font-bold"},[e._v("No Craft CMS licenses")]),n("div",[e._v("You don’t have any Craft CMS licenses yet.")])],1)],1)},qi=[],zi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.expiringLicenses.length>0?n("div",{staticClass:"top-alert alert alert-info",attrs:{role:"alert"}},[1===e.expiringLicenses.length?[e._v("\n        "+e._s(e.expiringLicenses.length)+" "+e._s(e.type)+" license will lose its access to updates soon. Renew it now to keep getting updates.\n    ")]:[e._v("\n        "+e._s(e.expiringLicenses.length)+" "+e._s(e.type)+" licenses will lose their access to updates soon. Renew them now to keep getting updates.\n    ")]],2):e._e()},Ki=[],Xi={props:["expiringLicenses","type"]},Gi=Xi,Wi=Object(Ne["a"])(Gi,zi,Ki,!1,null,null,null);Wi.options.__file="LicenseRenewAlert.vue";var Hi=Wi.exports,Qi={components:{CmsLicensesTable:zt,LicenseRenewAlert:Hi,Empty:wn},computed:Object(we["a"])({},Object(i["d"])({cmsLicenses:function(e){return e.licenses.cmsLicenses}}),Object(i["c"])({expiringCmsLicenses:"licenses/expiringCmsLicenses"}))},Yi=Qi,Ji=Object(Ne["a"])(Yi,Vi,qi,!1,null,null,null);Ji.options.__file="index.vue";var Zi=Ji.exports,ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.license?n("div",[n("p",[n("router-link",{staticClass:"nav-link",attrs:{to:"/licenses/plugins",exact:""}},[e._v("← Plugins")])],1),n("h1",[n("code",[e._v(e._s(e.license.key.substr(0,4)))])]),n("plugin-license-details",{attrs:{license:e.license}}),n("license-history",{attrs:{history:e.license.history}}),n("div",{staticClass:"card card-danger mb-3"},[n("div",{staticClass:"card-header"},[e._v("Danger Zone")]),n("div",{staticClass:"card-body"},[n("h5",[e._v("Release license")]),n("p",[e._v("Release this license if you no longer wish to use it, so that it can be claimed by someone else.")]),n("div",[n("button",{staticClass:"btn btn-danger",on:{click:function(t){e.releasePluginLicense()}}},[e._v("Release License")])])])])],1):e._e()},ta=[],na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h4",{staticClass:"mb-4"},[e._v("License Details")]),e.license?[n("div",{staticClass:"md:flex -mx-4"},[n("div",{staticClass:"md:w-1/2 px-4"},[n("dl",[e.license.plugin?[n("dt",[e._v("Plugin")]),n("dd",[e._v(e._s(e.license.plugin.name))])]:e._e(),n("dt",[e._v("License Key")]),n("dd",[n("code",[e._v(e._s(e._f("formatPluginLicense")(e.license.key)))])]),n("dt",[e._v("Craft License")]),n("dd",[e.license.cmsLicense?[n("p",[n("code",[e.license.cmsLicense.key?n("router-link",{attrs:{to:"/licenses/cms/"+e.license.cmsLicenseId}},[e._v(e._s(e.license.cmsLicense.key.substr(0,10)))]):[e._v(e._s(e.license.cmsLicense.shortKey))]],2),e.license.cmsLicense.edition?n("span",{staticClass:"text-secondary"},[e._v("(Craft "+e._s(e.license.cmsLicense.edition)+")")]):e._e()]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(t){e.detachCmsLicense()}}},[e._v("\n                                            Detach from this Craft license\n                                        ")]),e.detaching?n("spinner"):e._e()],1)]:[n("span",{staticClass:"text-secondary"},[e._v("Not attached to a CMS license.")]),e.originalCmsLicenseId?n("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.reattachCmsLicense()}}},[e._v("Undo")]):e._e()]],2)],2)]),n("div",{staticClass:"md:w-1/2 px-4"},[n("dl",[n("dt",[e._v("Email")]),n("dd",[e._v(e._s(e.license.email))]),n("dt",[e._v("Created")]),n("dd",[e._v(e._s(e._f("moment")(e.license.dateCreated.date,"L")))]),n("dt",[e._v("Notes")]),n("dd",[e.notesEditing?e._e():[n("p",[e._v(e._s(e.license.notes))]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(t){e.notesEditing=!0}}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),e._v("\n                                            Edit\n                                        ")],1)])],e.notesEditing?n("form",{on:{submit:function(t){t.preventDefault(),e.saveNotes()}}},[n("textarea-field",{attrs:{id:"notes"},on:{input:e.notesChange},model:{value:e.licenseDraft.notes,callback:function(t){e.$set(e.licenseDraft,"notes",t)},expression:"licenseDraft.notes"}}),n("input",{staticClass:"btn btn-primary",class:{disabled:!e.notesValidates},attrs:{type:"submit",value:"Save",disabled:!e.notesValidates}}),n("input",{staticClass:"btn btn-secondary",attrs:{type:"button",value:"Cancel"},on:{click:function(t){e.cancelEditNotes()}}}),e.notesLoading?n("spinner"):e._e()],1):e._e()],2)])])])]:e._e()],2)]),e.license.expirable&&e.license.expiresOn?n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Auto-Renew")]),e.licenseDraft.autoRenew?[e._m(0)]:[e._m(1)],n("lightswitch-field",{attrs:{id:"auto-renew",checked:e.licenseDraft.autoRenew},on:{change:e.saveAutoRenew,"update:checked":function(t){e.$set(e.licenseDraft,"autoRenew",t)}}})],2)]):e._e(),n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h4",[e._v("Updates")]),n("license-update-message",{attrs:{license:e.license}}),n("button",{staticClass:"btn btn-secondary",on:{click:function(t){e.showRenewLicensesModal("renew-plugin-license")}}},[e._v("Renew your license…")])],1)])])},sa=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Auto-renew is "),n("strong",[e._v("enabled")]),e._v(" for this license.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Auto-renew is "),n("strong",[e._v("disabled")]),e._v(" for this license.")])}],ia={props:["license","type"],data:function(){return{errors:{},licenseDraft:{},originalCmsLicenseId:this.license.cmsLicenseId,originalCmsLicense:this.license.cmsLicense,detaching:!1,reattaching:!1,notesEditing:!1,notesLoading:!1,notesValidates:!1}},components:{LicenseUpdateMessage:Pi,Spinner:Ue},methods:Object(we["a"])({},Object(i["b"])({showRenewLicensesModal:"app/showRenewLicensesModal"}),{detachCmsLicense:function(){var e=this;this.detaching=!0,this.licenseDraft.cmsLicenseId=null,this.licenseDraft.cmsLicense=null,this.savePluginLicense(function(){e.detaching=!1,e.$store.dispatch("licenses/getCmsLicenses"),e.$store.dispatch("licenses/getPluginLicenses")},function(){e.detaching=!1})},reattachCmsLicense:function(){var e=this;this.reattaching=!0,this.licenseDraft.cmsLicenseId=this.originalCmsLicenseId,this.licenseDraft.cmsLicense=this.originalCmsLicense,this.savePluginLicense(function(){e.reattaching=!1},function(){e.reattaching=!1})},canSave:function(){return this.license.notes!==this.licenseDraft.notes},saveNotes:function(){var e=this;this.notesLoading=!0,this.savePluginLicense(function(){e.notesLoading=!1,e.notesEditing=!1},function(){e.notesLoading=!1})},cancelEditNotes:function(){this.licenseDraft.notes=this.license.notes,this.notesEditing=!1,this.notesValidates=!1},notesChange:function(){this.notesValidates=!1,this.licenseDraft.notes!==this.license.notes&&(this.notesValidates=!0)},savePluginLicense:function(e,t){var n=this;this.$store.dispatch("licenses/savePluginLicense",{pluginHandle:this.license.plugin.handle,key:this.license.key,cmsLicenseId:this.licenseDraft.cmsLicenseId,cmsLicense:this.licenseDraft.cmsLicense,notes:this.licenseDraft.notes}).then(function(){e(),n.$store.dispatch("app/displayNotice","License saved.")}).catch(function(e){t();var s=e.data&&e.data.error?e.data.error:"Couldn’t save license.";n.$store.dispatch("app/displayError",s)})},saveAutoRenew:function(){var e=this;this.$store.dispatch("licenses/savePluginLicense",{pluginHandle:this.license.plugin.handle,key:this.license.key,autoRenew:this.licenseDraft.autoRenew?1:0}).then(function(){e.licenseDraft.autoRenew?e.$store.dispatch("app/displayNotice","Auto renew enabled."):e.$store.dispatch("app/displayNotice","Auto renew disabled."),e.$store.dispatch("licenses/getCmsLicenses")}).catch(function(t){e.$store.dispatch("app/displayError","Couldn’t save license."),e.errors=t.errors})}}),mounted:function(){this.licenseDraft={cmsLicenseId:this.license.cmsLicenseId,cmsLicense:this.license.cmsLicense,autoRenew:1==this.license.autoRenew,notes:this.license.notes}}},aa=ia,ra=Object(Ne["a"])(aa,na,sa,!1,null,null,null);ra.options.__file="PluginLicenseDetails.vue";var oa=ra.exports,ca={components:{CmsLicensesTable:zt,PluginLicenseDetails:oa,LicenseHistory:Ui},computed:Object(we["a"])({},Object(i["d"])({pluginLicenses:function(e){return e.licenses.pluginLicenses}}),{license:function(){var e=this;return this.pluginLicenses.find(function(t){return t.id==e.$route.params.id})}}),methods:{releasePluginLicense:function(){var e=this;if(!window.confirm("Are you sure you want to release this license?"))return!1;this.$store.dispatch("licenses/releasePluginLicense",{pluginHandle:this.license.plugin.handle,licenseKey:this.license.key}).then(function(){e.$store.dispatch("licenses/getCmsLicenses"),e.$store.dispatch("licenses/getPluginLicenses"),e.$store.dispatch("account/getInvoices"),e.$store.dispatch("app/displayNotice","Plugin license released."),e.$router.push({path:"/licenses/plugins"})}).catch(function(t){var n=t.data&&t.data.error?t.data.error:"Couldn’t release plugin license.";e.$store.dispatch("app/displayError",n)})}},mounted:function(){this.$store.commit("app/updateRenewLicense",this.license)}},la=ca,da=Object(Ne["a"])(la,ea,ta,!1,null,null,null);da.options.__file="_id.vue";var ua=da.exports,pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("license-renew-alert",{attrs:{type:"plugin","expiring-licenses":e.expiringPluginLicenses}}),n("h1",[e._v("Plugins")]),e.pluginLicenses.length>0?n("div",{staticClass:"card card-table responsive-content"},[n("plugin-licenses-table",{attrs:{licenses:e.pluginLicenses}})],1):n("empty",[n("font-awesome-icon",{staticClass:"text-5xl mb-4 text-grey-light",attrs:{icon:"key"}}),n("div",{staticClass:"font-bold"},[e._v("No plugin licenses")]),n("div",[e._v("You don’t have any plugin licenses yet.")])],1)],1)},fa=[],ha={components:{LicenseRenewAlert:Hi,PluginLicensesTable:Qt,Empty:wn},computed:Object(we["a"])({},Object(i["d"])({pluginLicenses:function(e){return e.licenses.pluginLicenses}}),Object(i["c"])({expiringPluginLicenses:"licenses/expiringPluginLicenses"}))},ma=ha,va=Object(Ne["a"])(ma,pa,fa,!1,null,null,null);va.options.__file="index.vue";var ga=va.exports,ba=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("Payment")]),e.error?s("div",[e._v(e._s(e.error))]):e._e(),e.cart?[s("form",{on:{submit:function(t){t.preventDefault(),e.pay()}}},[s("div",{staticClass:"md:flex -mx-8"},[s("div",{staticClass:"md:w-1/2 px-8"},[s("h2",[e._v("Payment Method")]),s("payment-method",{ref:"paymentMethod",attrs:{card:e.card,cardToken:e.cardToken,paymentMode:e.paymentMode,replaceCard:e.replaceCard},on:{"update:paymentMode":function(t){e.paymentMode=t},"update:replaceCard":function(t){e.replaceCard=t}}}),s("h2",{staticClass:"mt-4"},[e._v("Coupon Code")]),s("coupon-code")],1),s("div",{staticClass:"md:w-1/2 px-8 border-l"},[s("h2",[e._v("Billing Informations")]),s("billing-infos",{attrs:{billingInfo:e.billingInfo,errors:e.errors},on:{"update:billingInfo":function(t){e.billingInfo=t}}})],1)]),s("div",{staticClass:"text-center mt-8"},[s("input",{staticClass:"btn btn-lg btn-primary",attrs:{type:"submit"},domProps:{value:"Pay "+e.$options.filters.currency(e.cart.totalPrice)}}),e.payLoading?s("spinner"):e._e(),s("div",{staticClass:"mt-4"},[s("img",{attrs:{src:n("ae00"),height:"18"}})])],1)])]:s("spinner")],2)},_a=[],Ca=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.card?[n("p",[n("label",[n("input",{attrs:{type:"radio",value:"existingCard",name:"paymentMode"},domProps:{checked:"existingCard"===e.paymentMode},on:{input:function(t){e.$emit("update:paymentMode",t.target.value)}}}),e._v(" Use card "),n("span",[e._v(e._s(e.card.brand)+" •••• •••• •••• "+e._s(e.card.last4)+" — "+e._s(e.card.exp_month)+"/"+e._s(e.card.exp_year))])])])]:e._e(),n("p",[n("label",[n("input",{attrs:{type:"radio",value:"newCard",name:"paymentMode"},domProps:{checked:"newCard"===e.paymentMode},on:{input:function(t){e.$emit("update:paymentMode",t.target.value)}}}),e._v(" Use a new credit card")])]),"newCard"===e.paymentMode?[e.cardToken?n("p",[e._v(e._s(e.cardToken.card.brand)+" •••• •••• •••• "+e._s(e.cardToken.card.last4)+" ("+e._s(e.cardToken.card.exp_month)+"/"+e._s(e.cardToken.card.exp_year)+") "),n("a",{staticClass:"delete icon",on:{click:function(t){e.cardToken=null}}},[e._v("Delete")])]):n("card-element",{ref:"newCard"}),n("checkbox-field",{attrs:{id:"replaceCard",label:"Save as my new credit card",value:e.replaceCard},on:{input:function(t){e.$emit("update:replaceCard",!e.replaceCard)}}})]:e._e()],2)},ya=[],wa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"cardElement",staticClass:"card-element form-control mb-3"}),n("p",{staticClass:"text-red",attrs:{id:"card-errors",role:"alert"}})])},xa=[],La={data:function(){return{stripe:null,elements:null,card:null}},methods:{save:function(e,t){this.stripe.createSource(this.card).then(function(n){if(n.error){var s=document.getElementById("card-errors");s.textContent=n.error.message,t(n.error)}else e(n.source)})}},mounted:function(){this.stripe=Stripe(window.stripePublicKey),this.elements=this.stripe.elements({locale:"en"}),this.card=this.elements.create("card",{hidePostalCode:!0});var e=document.createElement("div");this.card.mount(e),this.$refs.cardElement.appendChild(e)}},ka=La,Da=(n("b07c"),Object(Ne["a"])(ka,wa,xa,!1,null,"6de1c880",null));Da.options.__file="CardElement.vue";var Pa=Da.exports,$a={props:["card","cardToken","paymentMode","replaceCard"],components:{CardElement:Pa}},Ia=$a,Sa=Object(Ne["a"])(Ia,Ca,ya,!1,null,null,null);Sa.options.__file="PaymentMethod.vue";var Ea=Sa.exports,Ta=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("text-field",{attrs:{placeholder:"XXXXXXX",id:"coupon-code",size:"12",errors:e.couponCodeError},on:{input:e.couponCodeChange},model:{value:e.couponCode,callback:function(t){e.couponCode=t},expression:"couponCode"}}),e.couponCodeLoading?n("spinner"):e._e()],1)},Oa=[],Aa={components:{Spinner:Ue},data:function(){return{couponCode:null,couponCodeLoading:!1,couponCodeSuccess:!1,couponCodeError:!1,couponCodeTimeout:!1}},computed:Object(we["a"])({},Object(i["d"])({cart:function(e){return e.cart.cart}})),methods:{couponCodeChange:function(){clearTimeout(this.couponCodeTimeout),this.couponCodeSuccess=!1,this.couponCodeError=null,this.couponCodeTimeout=setTimeout(function(){var e=this;this.couponCodeLoading=!0;var t={couponCode:this.couponCode?this.couponCode:null};this.$store.dispatch("cart/saveCart",t).then(function(){e.couponCodeSuccess=!0,e.couponCodeError=null,e.staticCartTotal=e.cart.totalPrice,e.couponCodeLoading=!1}).catch(function(t){t.response.data.errors[0].message?e.couponCodeError=[t.response.data.errors[0].message]:e.couponCodeError=!0,e.staticCartTotal=e.cart.totalPrice,e.couponCodeLoading=!1})}.bind(this),500)}},mounted:function(){this.couponCode=this.cart.couponCode}},Na=Aa,ja=Object(Ne["a"])(Na,Ta,Oa,!1,null,null,null);ja.options.__file="CouponCode.vue";var Ua=ja.exports,Ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("text-field",{attrs:{placeholder:"First Name",id:"first-name",errors:e.errors["billingAddress.firstName"]},model:{value:e.billingInfo.firstName,callback:function(t){e.$set(e.billingInfo,"firstName",t)},expression:"billingInfo.firstName"}}),n("text-field",{attrs:{placeholder:"Last Name",id:"last-name",errors:e.errors["billingAddress.lastName"]},model:{value:e.billingInfo.lastName,callback:function(t){e.$set(e.billingInfo,"lastName",t)},expression:"billingInfo.lastName"}}),n("text-field",{attrs:{placeholder:"Business Name",id:"business-name",errors:e.errors["billingAddress.businessName"]},model:{value:e.billingInfo.businessName,callback:function(t){e.$set(e.billingInfo,"businessName",t)},expression:"billingInfo.businessName"}}),n("text-field",{attrs:{placeholder:"Business Tax ID",id:"business-tax-id",errors:e.errors["billingAddress.businessTaxId"]},model:{value:e.billingInfo.businessTaxId,callback:function(t){e.$set(e.billingInfo,"businessTaxId",t)},expression:"billingInfo.businessTaxId"}}),n("text-field",{attrs:{placeholder:"Address 1",id:"address-1",errors:e.errors["billingAddress.address1"]},model:{value:e.billingInfo.address1,callback:function(t){e.$set(e.billingInfo,"address1",t)},expression:"billingInfo.address1"}}),n("text-field",{attrs:{placeholder:"Address 2",id:"address-2",errors:e.errors["billingAddress.address2"]},model:{value:e.billingInfo.address2,callback:function(t){e.$set(e.billingInfo,"address2",t)},expression:"billingInfo.address2"}}),n("div",{staticClass:"md:flex -mx-2"},[n("div",{staticClass:"md:w-1/2 px-2"},[n("text-field",{attrs:{placeholder:"City",id:"city",errors:e.errors["billingAddress.city"]},model:{value:e.billingInfo.city,callback:function(t){e.$set(e.billingInfo,"city",t)},expression:"billingInfo.city"}})],1),n("div",{staticClass:"md:w-1/2 px-2"},[n("text-field",{attrs:{placeholder:"Zip Code",id:"zip-code",errors:e.errors["billingAddress.zipCode"]},model:{value:e.billingInfo.zipCode,callback:function(t){e.$set(e.billingInfo,"zipCode",t)},expression:"billingInfo.zipCode"}})],1)]),n("div",{staticClass:"md:flex -mx-2"},[n("div",{staticClass:"md:w-1/2 px-2"},[n("select-field",{attrs:{fullwidth:!0,options:e.countryOptions,id:"country",errors:e.errors["billingAddress.country"]},on:{input:e.onCountryChange},model:{value:e.billingInfo.country,callback:function(t){e.$set(e.billingInfo,"country",t)},expression:"billingInfo.country"}})],1),n("div",{staticClass:"md:w-1/2 px-2"},[n("select-field",{attrs:{fullwidth:!0,options:e.stateOptions(e.billingInfo.country),id:"state",errors:e.errors["billingAddress.state"]},on:{input:e.onStateChange},model:{value:e.billingInfo.state,callback:function(t){e.$set(e.billingInfo,"state",t)},expression:"billingInfo.state"}})],1)])],1)},Ma=[],Fa={props:["billingInfo","errors"],computed:Object(we["a"])({},Object(i["c"])({countryOptions:"craftId/countryOptions",stateOptions:"craftId/stateOptions"})),methods:{onCountryChange:function(){this.billingInfo.state=null;var e=this.stateOptions(this.billingInfo.country);e.length&&(this.billingInfo.state=e[0].value)},onStateChange:function(e){var t=JSON.parse(it()(this.billingInfo));t.state=e,this.$emit("update:billingInfo",t)}}},Ba=Fa,Va=Object(Ne["a"])(Ba,Ra,Ma,!1,null,null,null);Va.options.__file="BillingInfos.vue";var qa=Va.exports,za={data:function(){return{billingInfo:{firstName:"",lastName:"",businessName:"",businessTaxId:"",address1:"",address2:"",country:"",state:"",city:"",zipCode:""},billingInfoErrors:{},paymentMode:"newCard",replaceCard:!1,loading:!1,payLoading:!1,error:null,errors:{},cardToken:null}},components:{PaymentMethod:Ea,CouponCode:Ua,BillingInfos:qa,Spinner:Ue},computed:Object(we["a"])({},Object(i["d"])({cart:function(e){return e.cart.cart},card:function(e){return e.account.card},existingCardToken:function(e){return e.account.cardToken},accountBillingAddress:function(e){return e.account.billingAddress}}),Object(i["c"])({cartTotal:"cart/cartTotal"})),methods:Object(we["a"])({},Object(i["b"])({getCart:"cart/getCart"}),{pay:function(){var e=this;this.payLoading=!0,this.savePaymentMethod().then(function(){e.errors={},e.saveBillingInfos().then(function(){e.processPayment().then(function(){e.$store.dispatch("app/displayNotice","Payment processed."),e.payLoading=!1,e.$router.push({path:"/thank-you"})}).catch(function(){e.$store.dispatch("app/displayError","Couldn’t process payment."),e.payLoading=!1})}).catch(function(t){var n={};t.response.data.errors&&t.response.data.errors.forEach(function(e){n[e.param]=[e.message]}),e.errors=n,e.$store.dispatch("app/displayError","Couldn’t save billing infos."),e.payLoading=!1})}).catch(function(t){throw e.$store.dispatch("app/displayError","Couldn’t save payment method."),e.payLoading=!1,t})},savePaymentMethod:function(){var e=this;return new f.a(function(t,n){e.cart&&e.cart.totalPrice>0&&"newCard"===e.paymentMode?e.cardToken?t():e.$refs.paymentMethod.$refs.newCard.save(function(n){e.cardToken=n,t()},function(){n()}):t()})},saveBillingInfos:function(){var e={billingAddress:{firstName:this.billingInfo.firstName,lastName:this.billingInfo.lastName,businessName:this.billingInfo.businessName,businessTaxId:this.billingInfo.businessTaxId,address1:this.billingInfo.address1,address2:this.billingInfo.address2,country:this.billingInfo.country,state:this.billingInfo.state,city:this.billingInfo.city,zipCode:this.billingInfo.zipCode}};return this.$store.dispatch("cart/saveCart",e)},processPayment:function(){var e=this,t=null;if(this.cart.totalPrice>0)switch(this.paymentMode){case"newCard":t=this.cardToken.id;break;default:t=this.existingCardToken}var n={orderNumber:this.cart.number,token:t,expectedPrice:this.cart.totalPrice,makePrimary:this.replaceCard};return this.$store.dispatch("cart/checkout",n).then(function(){e.$store.dispatch("craftId/getCraftIdData").then(function(){e.$store.dispatch("cart/resetCart").then(function(){e.loading=!1})})})}}),mounted:function(){var e=this;this.loading=!0,this.getCart().then(function(){e.loading=!1}).catch(function(){e.loading=!1}),this.card&&(this.paymentMode="existingCard"),this.$nextTick(function(){e.accountBillingAddress&&(e.billingInfo=JSON.parse(it()(e.accountBillingAddress)))})}},Ka=za,Xa=Object(Ne["a"])(Ka,ba,_a,!1,null,null,null);Xa.options.__file="payment.vue";var Ga=Xa.exports,Wa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"thank-you"},[n("div",{staticClass:"icon"},[n("font-awesome-icon",{attrs:{icon:"check"}})],1),n("h1",[e._v("Thank You!")]),n("p",[e._v("Your order has been processed successfully.")]),n("p",[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[e._v("Continue to Craft ID")])],1)])},Ha=[],Qa=(n("f5fe"),{}),Ya=Object(Ne["a"])(Qa,Wa,Ha,!1,null,null,null);Ya.options.__file="thank-you.vue";var Ja=Ya.exports,Za=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Partner Overview")]),n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[n("p",[e._v("Welcome to Craft Partners. Here is where you will manage your\n                    "),n("router-link",{attrs:{to:"profile"}},[e._v("Partner profile")]),e._v(".")],1),n("p",[e._v("We ask that you completely populate your profile with all\n                    relevant information. While in this Beta state you won’t be\n                    able to see how your profile will look on the live site,\n                    however, once Craft Partners goes live later this month, you\n                    will be able to continue to edit all of the information\n                    (other than the website slug) in your profile, whenever\n                    you’d like. We encourage Partners to continually add new\n                    projects to their gallery and ensure that their profile’s\n                    information is current.")]),n("p",[e._v("Following the launch of Craft Partners, we will begin the\n                    Verification process. Once you've been verified we will\n                    add the corresponding verified badge to your profile.")]),n("p",[e._v("All Partners will receive the Craft Partner badge that you\n                    can add to your own website and marketing materials prior\n                    to launch. Verified badges will be sent out once the Partner\n                    has been verified.")]),e._m(0)])])])},er=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("If you have any questions, please contact us at\n                    "),n("a",{attrs:{href:"mailto:partners@craftcms.com"}},[e._v("partners@craftcms.com")]),e._v(".")])}],tr={},nr=Object(Ne["a"])(tr,Za,er,!1,null,null,null);nr.options.__file="overview.vue";var sr=nr.exports,ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Partner Profile")]),e.loadState==e.LOADING?n("div",{staticClass:"text-center"},[n("spinner",{attrs:{big:"",cssClass:"mt-8"}})],1):e._e(),e.loadState==e.LOAD_ERROR?n("p",[e._v("Error: "+e._s(e.loadError))]):e._e(),e.loadState==e.LOADED?n("div",[n("partner-completion",{attrs:{partner:e.partner}}),n("partner-info",{attrs:{partner:e.partner}}),n("partner-locations",{attrs:{partner:e.partner}}),n("partner-projects",{attrs:{partner:e.partner}})],1):e._e()])},ar=[],rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-4"},[e.partner.enabled?e._e():n("h3",[e._v("Profile Completion:")]),n("ul",{staticClass:"list-reset pl-4"},e._l(e.statuses,function(t,s){return n("li",{key:s,class:{"text-orange-dark":!t.valid,"text-green-dark":t.valid}},[t.valid?n("span",[e._v("✔")]):n("span",[e._v("✘")]),e._v("\n            "+e._s(t.message)+"\n        ")])}),0)])},or=[],cr=n("a745"),lr=n.n(cr),dr={props:["partner"],computed:{statuses:function(){if(this.partner.enabled)return{enabled:{valid:!0,message:"Your profile is live"}};var e={basicInfo:{valid:!0,message:"Basic information provided"},locations:{valid:!0,message:"Location provided"},projects:{valid:!0,message:"Five projects provided"}};for(var t in this.partner){var n=this.partner[t];switch(t){case"businessName":case"primaryContactName":case"primaryContactEmail":case"primaryContactPhone":case"fullBio":case"shortBio":case"agencySize":case"region":case"websiteSlug":case"website":case"hasFullTimeDev":case"isRegisteredBusiness":case"capabilities":(null===n||"undefined"===typeof n||"string"===typeof n&&""===n.trim()||lr()(n)&&0===n.length)&&(e.basicInfo={valid:!1,message:"Basic information is incomplete"});break;case"locations":lr()(n)&&0!==n.length||(e.locations={valid:!1,message:"Please provide a location"});break;case"projects":if(!lr()(n)||n.length<5)e.projects={valid:!1,message:"Please add five projects"};else for(var s in n){var i=n[s]["screenshots"]||[];0===i.length&&(e.projects={valid:!1,message:"At least one project is missing screenshots"})}break;default:break}}return this.partner.shortBio&&this.partner.shortBio.length>130&&e.basicInfo.valid&&(e.basicInfo={valid:!1,message:"Short Bio is more than 130 characters"}),e}}},ur=dr,pr=Object(Ne["a"])(ur,rr,or,!1,null,null,null);pr.options.__file="PartnerCompletion.vue";var fr=pr.exports,hr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"text-grey-darker"},[e._v("Basic business information and adminstrative contact information for Pixel & Tonic to reach you.")]),n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[e.isEditing?e._e():n("div",{staticClass:"text-right"},[n("button",{staticClass:"btn btn-secondary",on:{click:e.onEditClick}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),e._v(" Edit")],1)]),e.isEditing?n("div",[n("text-field",{attrs:{id:"businessName",label:"Business Name",errors:e.errors.businessName},model:{value:e.draft.businessName,callback:function(t){e.$set(e.draft,"businessName",t)},expression:"draft.businessName"}}),n("text-field",{attrs:{id:"websiteSlug",label:"Website Slug",instructions:"Automatically generated from Business Name if blank. Not editable once your page is live. (e.g. https://craftcms.com/partners/business-name)",errors:e.errors.websiteSlug,disabled:e.partner.enabled},model:{value:e.draft.websiteSlug,callback:function(t){e.$set(e.draft,"websiteSlug",t)},expression:"draft.websiteSlug"}}),n("text-field",{attrs:{id:"website",label:"Business Website URL",errors:e.errors.website},model:{value:e.draft.website,callback:function(t){e.$set(e.draft,"website",t)},expression:"draft.website"}}),n("div",{staticClass:"form-group"},[n("label",[e._v("Logo")]),e._m(0),n("div",[n("div",{staticClass:"partner-logo"},[e.draft.logo.url?n("img",{staticClass:"block mt-2 mb-2",staticStyle:{width:"250px"},attrs:{src:e.draft.logo.url}}):e._e()]),e.draft.logo.url?n("a",{staticClass:"remove btn btn-sm btn-danger",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.draft.logo={id:null,url:null}}}},[n("i",{staticClass:"fas fa-times"})]):e._e(),e.draft.logo.url?e._e():n("input",{ref:"logoFile",staticClass:"mt-6 mb-6",attrs:{accept:".svg",type:"file"},on:{change:e.onLogoChange}})]),e._l(e.errors.logo,function(t,s){return e.errors.logo?n("div",{key:s,staticClass:"invalid-feedback"},[e._v(e._s(t))]):e._e()})],2),n("text-field",{attrs:{id:"primaryContactName",label:"Primary Contact Name",instructions:"For Pixel & Tonic use only. This will not be visible on your profile.",errors:e.errors.primaryContactName},model:{value:e.draft.primaryContactName,callback:function(t){e.$set(e.draft,"primaryContactName",t)},expression:"draft.primaryContactName"}}),n("text-field",{attrs:{id:"primaryContactEmail",label:"Primary Contact Email",instructions:"For Pixel & Tonic use only. This will not be visible on your profile.",errors:e.errors.primaryContactEmail},model:{value:e.draft.primaryContactEmail,callback:function(t){e.$set(e.draft,"primaryContactEmail",t)},expression:"draft.primaryContactEmail"}}),n("text-field",{attrs:{id:"primaryContactPhone",label:"Primary Contact Phone",instructions:"For Pixel & Tonic use only. This will not be visible on your profile.",errors:e.errors.primaryContactPhone},model:{value:e.draft.primaryContactPhone,callback:function(t){e.$set(e.draft,"primaryContactPhone",t)},expression:"draft.primaryContactPhone"}}),n("select-field",{attrs:{id:"region",label:"Region",options:e.options.region,errors:e.errors.region},model:{value:e.draft.region,callback:function(t){e.$set(e.draft,"region",t)},expression:"draft.region"}}),n("checkbox-field",{attrs:{id:"isRegisteredBusiness",label:"This is a registered business",instructions:"Required for consideration.","checked-value":1,errors:e.errors.isRegisteredBusiness},model:{value:e.draft.isRegisteredBusiness,callback:function(t){e.$set(e.draft,"isRegisteredBusiness",t)},expression:"draft.isRegisteredBusiness"}}),n("checkbox-field",{attrs:{id:"hasFullTimeDev",label:"Business has at least one full-time Craft developer",instructions:"Required for consideration.","checked-value":1,errors:e.errors.hasFullTimeDev},model:{value:e.draft.hasFullTimeDev,callback:function(t){e.$set(e.draft,"hasFullTimeDev",t)},expression:"draft.hasFullTimeDev"}}),n("checkbox-set",{attrs:{id:"capabilities",label:"Capabilities",options:e.options.capabilities,errors:e.errors.capabilities},model:{value:e.draft.capabilities,callback:function(t){e.$set(e.draft,"capabilities",t)},expression:"draft.capabilities"}}),n("textarea-field",{attrs:{id:"expertise",label:"Areas of Expertise",instructions:"Tags for relevant expertise (e.g. SEO), each on a new line"},model:{value:e.draft.expertise,callback:function(t){e.$set(e.draft,"expertise",t)},expression:"draft.expertise"}}),n("select-field",{attrs:{id:"agencySize",label:"Agency Size",options:e.options.agencySize,errors:e.errors.agencySize},model:{value:e.draft.agencySize,callback:function(t){e.$set(e.draft,"agencySize",t)},expression:"draft.agencySize"}}),n("textarea-field",{attrs:{id:"fullBio",label:"Full Bio",instructions:"Markdown OK. Shown on your detail page.",errors:e.errors.fullBio},model:{value:e.draft.fullBio,callback:function(t){e.$set(e.draft,"fullBio",t)},expression:"draft.fullBio"}}),n("textarea-field",{attrs:{id:"shortBio",label:"Short Bio",instructions:"Max 130 characters. Shown on your listing card.",max:130,errors:e.errors.shortBio},model:{value:e.draft.shortBio,callback:function(t){e.$set(e.draft,"shortBio",t)},expression:"draft.shortBio"}}),n("div",{staticClass:"pt-4"},[n("button",{staticClass:"btn btn-secondary",class:{disabled:e.requestPending},attrs:{disabled:e.requestPending},on:{click:function(t){e.isEditing=!1}}},[e._v("Cancel")]),n("button",{staticClass:"btn btn-primary",class:{disabled:e.requestPending},attrs:{disabled:e.requestPending},on:{click:e.onSubmit}},[e._v("Save")]),n("spinner",{attrs:{cssClass:{invisible:!e.requestPending}}})],1)],1):n("div",[n("ul",{staticClass:"info-list list-reset"},[e.partner.logo.url?n("li",{staticClass:"mb-4"},[n("div",{staticClass:"partner-logo"},[n("img",{attrs:{src:e.partner.logo.url}})])]):e._e(),e.partner.businessName?n("li",[n("strong",{staticClass:"text-2xl"},[e._v(e._s(e.partner.businessName))])]):e._e(),e.partner.website?n("li",[n("a",{attrs:{href:e.partner.website,target:"_blank"}},[e._v(e._s(e.partner.website))])]):e._e(),e.partner.primaryContactName?n("li",[e._v("\n                        "+e._s(e.partner.primaryContactName)+"\n                    ")]):e._e(),e.partner.primaryContactEmail?n("li",[e._v("\n                        "+e._s(e.partner.primaryContactEmail)+"\n                    ")]):e._e(),e.partner.primaryContactPhone?n("li",[e._v("\n                        "+e._s(e.partner.primaryContactPhone)+"\n                    ")]):e._e(),e.partner.region?n("li",[e._v("\n                        "+e._s(e.partner.region)+"\n                    ")]):e._e(),e.basicRequirementsList.length?n("li",{staticClass:"mt-2"},[e._v("\n                        Basic Requirements:\n                        "),n("ul",{staticClass:"text-sm text-grey-darker mt-2"},e._l(e.basicRequirementsList,function(t,s){return n("li",{key:s},[e._v(e._s(t))])}),0)]):e._e(),e.partner.capabilities.length?n("li",{staticClass:"mt-2 mb-2"},[e._v("\n                        Capabilities:\n                        "),n("ul",{staticClass:"text-sm text-grey-darker mt-2"},e._l(e.partner.capabilities,function(t,s){return n("li",{key:s},[e._v("\n                                "+e._s(t)+"\n                            ")])}),0)]):e._e(),e.partner.expertise.trim().length?n("li",{staticClass:"mt-2 mb-2 pt-2"},[e._v("\n                        Areas of Expertise:\n                        "),n("ul",{staticClass:"text-sm text-grey-darker mt-2"},e._l(e.expertiseList,function(t,s){return n("li",{key:s},[e._v("\n                                "+e._s(t)+"\n                            ")])}),0)]):e._e(),e.partner.agencySize?n("li",{staticClass:"mt-2"},[e._v("\n                        Agency Size: "),n("span",{staticClass:"text-grey-darker"},[e._v(e._s(e.agencySizeDisplay))])]):e._e(),e.partner.fullBio?n("li",{staticClass:"mt-4"},[e._v("\n                        Full Bio:\n                        "),n("pre",{staticClass:"text-grey-darker text-sm p-2 whitespace-pre-wrap"},[e._v(e._s(e.partner.fullBio))])]):e._e(),e.partner.shortBio?n("li",{staticClass:"mt-4"},[e._v("\n                        Short Bio:\n                        "),n("pre",{staticClass:"text-grey-darker text-sm p-2 whitespace-pre-wrap"},[e._v(e._s(e.partner.shortBio))])]):e._e()])])])])])},mr=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"instructions"},[n("p",[e._v("Must be an SVG that fits within a circle. Be sure not to use unrasterized fonts or\n                            base64-encoded JPGs or PNGs inside the SVG or it will cause problems with image resizing for\n                            Twitter share cards and such.")])])}],vr={props:["partner"],components:{Spinner:Ue},mixins:[ze["a"]],data:function(){return{draft:{},draftProps:["id","logo","businessName","websiteSlug","primaryContactName","primaryContactEmail","primaryContactPhone","region","isRegisteredBusiness","hasFullTimeDev","capabilities","expertise","agencySize","fullBio","shortBio","website"],errors:{},logoFiles:[],isEditing:!1,isUploading:!1,options:{agencySize:[{label:"1-2",value:"XS"},{label:"3-9",value:"S"},{label:"10-29",value:"M"},{label:"30+",value:"L"}],capabilities:[{label:"Commerce",value:"Commerce"},{label:"Full Service",value:"Full Service"},{label:"Custom Development",value:"Custom Development"},{label:"Contract Work",value:"Contract Work"},{label:"Ongoing Maintenance",value:"Ongoing Maintenance"}],region:[{label:"Asia Pacific",value:"Asia Pacific"},{label:"Europe",value:"Europe"},{label:"North America",value:"North America"},{label:"South America",value:"South America"}]},requestPending:!1}},computed:{agencySizeDisplay:function(){for(var e=0;e<this.options.agencySize.length;e++){var t=this.options.agencySize[e];if(t.value===this.partner.agencySize)return t.label}return this.partner.agencySize},basicRequirementsList:function(){var e=[];return this.partner.isRegisteredBusiness&&e.push("Is a registered business"),this.partner.hasFullTimeDev&&e.push("Has a full-time Craft developer"),e},expertiseList:function(){return"string"!==typeof this.partner.expertise?"":this.partner.expertise.trim().split("\n")}},methods:{filterRegionValue:function(e){if(e)for(var t in this.options.region)if(e===this.options.region[t].value)return e;return"North America"},onEditClick:function(){var e=this.simpleClone(this.partner,this.draftProps);e.region=this.filterRegionValue(e.region),e.agencySize=e.agencySize||"XS",this.draft=e,this.isEditing=!0},onLogoChange:function(e){var t=this,n=new FileReader;n.onload=function(e){t.draft.logo.url=e.target.result,t.draft.logo.id="new"},n.readAsDataURL(e.target.files[0]),this.logoFiles=e.target.files,console.warn("change",this.logoFiles)},onSubmit:function(){var e=this;console.warn("onSubmit"),this.errors={},this.errorMessage="",this.requestPending=!0,console.warn("onSubmit",this.logoFiles);var t={draft:this.draft,files:this.logoFiles};this.$store.dispatch("patchPartner",t).then(function(t){console.warn(".then()"),console.warn(t),e.requestPending=!1,t.data.success?(e.$root.displayNotice("Updated"),e.isEditing=!1):(e.errors=t.data.errors,e.$root.displayError("Validation errors"))}).catch(function(t){console.warn(".catch()"),console.warn(t),e.$root.displayError(t),e.requestPending=!1})}}},gr=vr,br=(n("aa96"),Object(Ne["a"])(gr,hr,mr,!1,null,"3c24b478",null));br.options.__file="PartnerInfo.vue";var _r=br.exports,Cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",[e._v("Location")]),n("p",{staticClass:"text-grey-darker"},[e._v("Location and sales contact information for potential clients.")]),e._l(e.draftLocations,function(t,s){return n("partner-location",{key:s,attrs:{location:t,index:s,"edit-index":e.editIndex,"request-pending":e.requestPending,errors:e.errors[s]},on:{cancel:e.onCancel,delete:e.onDelete,edit:e.onEdit,save:e.onSave}})}),0===e.draftLocations.length?n("div",{staticClass:"pl-4"},[n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:e.onAddLocationClick}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add a Location")],1)]):e._e()],2)},yr=[],wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[e.isEditing?n("div",[n("text-field",{attrs:{id:"title",label:"Location Title",errors:e.localErrors.title,placeholder:"e.g. Main Office"},model:{value:e.location.title,callback:function(t){e.$set(e.location,"title",t)},expression:"location.title"}}),n("text-field",{attrs:{id:"addressLine1",label:"Address",errors:e.localErrors.addressLine1},model:{value:e.location.addressLine1,callback:function(t){e.$set(e.location,"addressLine1",t)},expression:"location.addressLine1"}}),n("text-field",{attrs:{id:"addressLine2",errors:e.localErrors.addressLine2},model:{value:e.location.addressLine2,callback:function(t){e.$set(e.location,"addressLine2",t)},expression:"location.addressLine2"}}),n("text-field",{attrs:{id:"city",label:"City",errors:e.localErrors.city},model:{value:e.location.city,callback:function(t){e.$set(e.location,"city",t)},expression:"location.city"}}),n("text-field",{attrs:{id:"state",label:"State/Region",errors:e.localErrors.state},model:{value:e.location.state,callback:function(t){e.$set(e.location,"state",t)},expression:"location.state"}}),n("text-field",{attrs:{id:"zip",label:"Zip",errors:e.localErrors.zip},model:{value:e.location.zip,callback:function(t){e.$set(e.location,"zip",t)},expression:"location.zip"}}),n("text-field",{attrs:{id:"country",label:"Country",errors:e.localErrors.country},model:{value:e.location.country,callback:function(t){e.$set(e.location,"country",t)},expression:"location.country"}}),n("text-field",{attrs:{id:"phone",label:"Sales Phone",errors:e.localErrors.phone},model:{value:e.location.phone,callback:function(t){e.$set(e.location,"phone",t)},expression:"location.phone"}}),n("text-field",{attrs:{id:"email",label:"Sales Email",instructions:"The “Work With” button will send email here.",errors:e.localErrors.email},model:{value:e.location.email,callback:function(t){e.$set(e.location,"email",t)},expression:"location.email"}}),n("div",{staticClass:"mt-4 flex"},[n("div",{staticClass:"flex-1"},[n("button",{staticClass:"btn btn-secondary",class:{disabled:e.requestPending},attrs:{disabled:e.requestPending},on:{click:function(t){e.$emit("cancel",e.index)}}},[e._v("Cancel")]),n("button",{staticClass:"btn btn-primary",class:{disabled:e.requestPending},attrs:{disabled:e.requestPending},on:{click:function(t){e.$emit("save")}}},[e._v("Save")]),n("spinner",{class:{invisible:!e.requestPending}})],1),n("div")])],1):n("div",{staticClass:"flex"},[n("ul",{staticClass:"flex-1 list-reset"},[e.location.title?n("li",[n("strong",[e._v(e._s(e.location.title))])]):e._e(),e.location.addressLine1?n("li",[e._v(e._s(e.location.addressLine1))]):e._e(),e.location.addressLine2?n("li",[e._v(e._s(e.location.addressLine2))]):e._e(),e.cityStateZip?n("li",[e._v(e._s(e.cityStateZip))]):e._e(),e.location.country?n("li",[e._v(e._s(e.location.country))]):e._e(),e.location.phone?n("li",[e._v(e._s(e.location.phone))]):e._e(),e.location.email?n("li",[e._v(e._s(e.location.email))]):e._e()]),n("div",[n("button",{staticClass:"btn btn-secondary",on:{click:function(t){e.$emit("edit",e.index)}}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),e._v(" Edit")],1)])])])])])},xr=[],Lr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:e.transition},on:{enter:function(t){e.$emit("enter")},"after-enter":function(t){e.$emit("after-enter")},leave:function(t){e.$emit("leave")}}},[e.show?n("div",{staticClass:"modal",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},on:{click:e.test}},[n("div",{class:e.modalTypeClass,attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[e.$slots.header?n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._t("header")],2)]):e._e(),n("div",{staticClass:"modal-body"},[e._t("body")],2),e.$slots.footer?n("div",{staticClass:"modal-footer"},[e._t("footer")],2):e._e()])])]):e._e()])},kr=[],Dr={props:{show:Boolean,transition:String,modalType:{default:"dialog"}},computed:{modalTypeClass:function(){return"modal-"+this.modalType}},methods:{test:function(e){e.target.classList.contains("modal")&&this.$emit("background-click")}}},Pr=Dr,$r=(n("fc24"),Object(Ne["a"])(Pr,Lr,kr,!1,null,null,null));$r.options.__file="Modal.vue";var Ir=$r.exports,Sr={props:["index","location","editIndex","requestPending","errors"],components:{Modal:Ir,Spinner:Ue},data:function(){return{draft:{}}},computed:{cityStateZip:function(){var e=this.location.city,t=this.location.state,n=this.location.zip,s=e.length&&t.length?",":"";return"".concat(e).concat(s," ").concat(t," ").concat(n).trim()},isEditing:function(){return this.draft=this.simpleClone,this.editIndex===this.index},localErrors:function(){return this.errors||{}}},mounted:function(){"new"===this.location.id&&this.$emit("edit",this.index)}},Er=Sr,Tr=Object(Ne["a"])(Er,wr,xr,!1,null,null,null);Tr.options.__file="PartnerLocation.vue";var Or=Tr.exports,Ar={props:["partner"],mixins:[ze["a"]],components:{PartnerLocation:Or},data:function(){return{errors:[],draftLocations:[],draftLocationProps:["id","title","addressLine1","addressLine2","city","state","zip","country","phone","email"],editIndex:null,requestPending:!1}},methods:{onAddLocationClick:function(){this.draftLocations.push({id:"new",title:"",addressLine1:"",addressLine2:"",city:"",state:"",zip:"",country:"",phone:"",email:""})},cloneLocations:function(e){for(var t=[],n=0;n<e.length;n++){var s=this.partner.locations[n];t.push(this.simpleClone(s,this.draftLocationProps))}return t},onCancel:function(){this.setDraftLocations(),this.editIndex=null},onDelete:function(e){if(1!==this.draftLocations.length){var t=this.cloneLocations(this.draftLocations);t.splice(e,1),this.save(t)}else this.$root.displayError("Must have at least one location")},onEdit:function(e){this.errors=[],this.editIndex=e},onSave:function(){this.save(this.draftLocations)},save:function(e){var t=this;this.requestPending=!0,this.$store.dispatch("patchPartnerLocations",e).then(function(e){t.requestPending=!1,e.data.success?(t.setDraftLocations(),t.$root.displayNotice("Updated"),t.editIndex=null):(t.errors=e.data.errors.locations,t.$root.displayError("Validation errors"))}).catch(function(e){t.$root.displayError(e),t.requestPending=!1})},setDraftLocations:function(){this.draftLocations=this.cloneLocations(this.partner.locations)}},mounted:function(){this.setDraftLocations()}},Nr=Ar,jr=Object(Ne["a"])(Nr,Cr,yr,!1,null,null,null);jr.options.__file="PartnerLocations.vue";var Ur=jr.exports,Rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-4"},[n("h4",[e._v("Projects")]),n("p",{staticClass:"instructions"},[e._v("\n        Five projects are required, up to eight will be displayed.\n        Each must have a public URL for a case study or website.\n    ")]),e._l(e.draftProjects,function(t,s){return n("partner-project",{key:s,attrs:{project:t,index:s,"edit-index":e.editIndex,"request-pending":e.requestPending,errors:e.errors[s]},on:{cancel:e.onCancel,delete:e.onDelete,edit:e.onEdit,save:e.onSave}})}),e.partner.projects.length<8?n("div",{staticClass:"pl-4"},[n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:e.onAddProjectClick}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add a Project")],1)]):e._e()],2)},Mr=[],Fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"card mb-4"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditing,expression:"!isEditing"}],staticClass:"card-body"},[n("div",{staticClass:"flex"},[n("ul",{staticClass:"flex-1 list-reset"},[e.project.name?n("li",{staticClass:"mb-3"},[n("strong",{staticClass:"text-2xl"},[e._v(e._s(e.project.name))])]):e._e(),e.project.role?n("li",[e._v("Role: "+e._s(e.project.role))]):e._e(),e.project.url?n("li",[e._v(e._s(e.linkTypeDisplay)+" Link: "),n("a",{attrs:{href:e.project.url,target:"_blank"}},[e._v(e._s(e.project.url))])]):e._e(),e.project.withCraftCommerce?n("li",{staticClass:"mt-3"},[e._v("✔ This project includes Craft Commerce")]):e._e(),e.project.screenshots.length?n("li",{staticClass:"mt-3"},[n("strong",[e._v("Screenshots")])]):e._e(),n("li",{staticClass:"flex"},e._l(e.project.screenshots,function(e,t){return n("div",{key:t,staticClass:"p-1 mt-2 inline-block bg-grey-lightest flex align-middle justify-center",staticStyle:{height:"140px",width:"240px"}},[n("img",{staticStyle:{"max-width":"100%","max-height":"100%"},attrs:{src:e.url}})])}),0)]),n("div",[n("button",{staticClass:"btn btn-secondary",on:{click:function(t){e.$emit("edit",e.index)}}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),e._v(" Edit")],1)])])])]),e.isEditing?n("modal",{staticStyle:{"max-height":"100vh",overflow:"scroll"},attrs:{show:e.isEditing,transition:"fade","modal-type":"wide"}},[n("div",{staticClass:"p-4",attrs:{slot:"body"},slot:"body"},[n("text-field",{attrs:{id:"name",label:"Project Name",errors:e.localErrors.name},model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}}),n("text-field",{attrs:{id:"role",label:"Role",instructions:"e.g. “Craft Commerce with custom Hubspot integration” or “Design and custom plugin development”. Max 55 characters.",max:55,errors:e.localErrors.role},model:{value:e.project.role,callback:function(t){e.$set(e.project,"role",t)},expression:"project.role"}}),n("text-field",{attrs:{id:"url",label:"URL",errors:e.localErrors.url},model:{value:e.project.url,callback:function(t){e.$set(e.project,"url",t)},expression:"project.url"}}),n("select-field",{attrs:{id:"linkType",label:"Link Type",options:e.options.linkType,errors:e.localErrors.linkType},model:{value:e.project.linkType,callback:function(t){e.$set(e.project,"linkType",t)},expression:"project.linkType"}}),n("checkbox-field",{attrs:{id:"withCraftCommerce",label:"This project includes Craft Commerce","checked-value":1},model:{value:e.project.withCraftCommerce,callback:function(t){e.$set(e.project,"withCraftCommerce",t)},expression:"project.withCraftCommerce"}}),n("label",[e._v("Screenshots"),n("span",{staticClass:"text-red"},[e._v("*")])]),n("p",{staticClass:"instructions"},[e._v("1 to 5 JPG screenshots required with a 12:7 aspect ratio. 1200px wide will do. Drag to re-order.")]),n("draggable",{model:{value:e.project.screenshots,callback:function(t){e.$set(e.project,"screenshots",t)},expression:"project.screenshots"}},e._l(e.project.screenshots,function(t,s){return n("div",{key:s,staticClass:"screenshot mt-6"},[n("img",{staticClass:"img-thumbnail mr-3 mb-3",staticStyle:{"max-width":"200px","max-height":"200px"},attrs:{src:t.url}}),n("a",{staticClass:"remove btn btn-sm btn-danger",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.removeScreenshot(s)}}},[n("i",{staticClass:"fas fa-times"})])])}),0),e._l(e.localErrors.screenshots,function(t,s){return n("div",{key:s,staticClass:"invalid-feedback"},[e._v(e._s(t))])}),e.project.screenshots.length<=5?n("div",[n("input",{ref:"screenshotFiles",staticClass:"hidden",attrs:{type:"file",accept:".jp2,.jpeg,.jpg,.jpx",multiple:""},on:{change:e.screenshotFileChange}}),n("br"),n("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{disabled:e.isUploading},on:{click:function(t){e.$refs.screenshotFiles.click()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isUploading,expression:"!isUploading"}]},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add screenshots")],1),n("span",{directives:[{name:"show",rawName:"v-show",value:e.isUploading,expression:"isUploading"}]},[e._v("Uploading: "+e._s(e.uploadProgress)+"%")]),n("spinner",{directives:[{name:"show",rawName:"v-show",value:e.isUploading,expression:"isUploading"}]})],1)]):e._e(),n("div",{staticClass:"mt-4 flex"},[n("div",{staticClass:"flex-1"},[n("button",{staticClass:"btn btn-secondary",class:{disabled:e.requestPending},attrs:{disabled:e.requestPending},on:{click:function(t){e.$emit("cancel",e.index)}}},[e._v("Cancel")]),n("button",{staticClass:"btn btn-primary",class:{disabled:e.requestPending},attrs:{disabled:e.requestPending},on:{click:function(t){e.$emit("save")}}},[e._v("Save")]),n("spinner",{class:{invisible:!e.requestPending}})],1),n("div",["new"!==e.project.id?n("button",{staticClass:"btn btn-danger",class:{disabled:e.requestPending},attrs:{disabled:e.requestPending},on:{click:function(t){e.$emit("delete",e.index)}}},[e._v("Delete")]):e._e()])])],2)]):e._e()],1)},Br=[],Vr={props:["index","project","editIndex","requestPending","errors"],components:{draggable:Ss.a,Modal:Ir,Spinner:Ue},data:function(){return{uploadProgress:0,isUploading:!1,options:{linkType:[{label:"Website",value:"website"},{label:"Case Study",value:"caseStudy"}]}}},computed:{isEditing:function(){return this.editIndex===this.index},localErrors:function(){return this.errors||{}},linkTypeDisplay:function(){for(var e in this.options.linkType)if(this.options.linkType[e].value===this.project.linkType)return this.options.linkType[e].label;return""}},methods:{removeScreenshot:function(e){this.project.screenshots.splice(e,1)},screenshotFileChange:function(e){for(var t=this,n=new FormData,s=0;s<e.target.files.length;s++)n.append("screenshots[]",e.target.files[s]);this.isUploading=!0,m.a.post(Craft.actionUrl+"/craftnet/partners/upload-screenshots",n,{headers:{"X-CSRF-Token":Craft.csrfTokenValue},onUploadProgress:function(e){t.uploadProgress=Math.round(e.loaded/e.total*100)}}).then(function(e){t.isUploading=!1,t.$root.displayNotice("Uploaded");var n=e.data.screenshots||[];for(var s in n)t.project.screenshots.push(n[s])}).catch(function(e){t.isUploading=!1,t.$root.displayNotice(e)})}},mounted:function(){"new"===this.project.id&&this.$emit("edit",this.index),this.project.linkType||(this.project.linkType="website")}},qr=Vr,zr=Object(Ne["a"])(qr,Fr,Br,!1,null,null,null);zr.options.__file="PartnerProject.vue";var Kr=zr.exports,Xr={props:["partner"],mixins:[ze["a"]],components:{PartnerProject:Kr},data:function(){return{errors:[],draftProjects:[],draftProjectProps:["id","name","role","url","linkType","withCraftCommerce","screenshots"],editIndex:null,requestPending:!1}},methods:{onAddProjectClick:function(){this.draftProjects.push({id:"new",name:"",role:"",url:"",screenshots:[]})},cloneProjects:function(e){for(var t=[],n=0;n<e.length;n++){var s=this.partner.projects[n];t.push(this.simpleClone(s,this.draftProjectProps))}return t},onCancel:function(){this.setDraftProjects(),this.editIndex=null},onDelete:function(e){if(1!==this.draftProjects.length){var t=this.cloneProjects(this.draftProjects);t.splice(e,1),this.save(t)}else this.$root.displayError("Must have at least one project")},onEdit:function(e){this.errors=[],this.editIndex=e},onSave:function(){this.save(this.draftProjects)},save:function(e){var t=this;this.requestPending=!0,this.$store.dispatch("patchPartnerProjects",e).then(function(e){t.requestPending=!1,e.data.success?(t.setDraftProjects(),t.$root.displayNotice("Updated"),t.editIndex=null):(t.errors=e.data.errors.projects,t.$root.displayError("Validation errors"))}).catch(function(e){t.$root.displayError(e),t.requestPending=!1})},setDraftProjects:function(){this.draftProjects=this.cloneProjects(this.partner.projects)}},mounted:function(){this.setDraftProjects()}},Gr=Xr,Wr=Object(Ne["a"])(Gr,Rr,Mr,!1,null,null,null);Wr.options.__file="PartnerProjects.vue";var Hr=Wr.exports,Qr={data:function(){return{LOADED:"loaded",LOADING:"loading",LOAD_ERROR:"loadError",loadState:"loading",loadError:""}},components:{PartnerCompletion:fr,PartnerInfo:_r,PartnerLocations:Ur,PartnerProjects:Hr,Spinner:Ue},computed:Object(we["a"])({},Object(i["d"])({partner:function(e){return e.partner.partner}})),mounted:function(){var e=this;this.$store.dispatch("initPartner").then(function(){e.loadState=e.LOADED}).catch(function(t){e.loadState=e.LOAD_ERROR,e.loadError=t.data.error||"Couldn’t load partner profile"})}},Yr=Qr,Jr=Object(Ne["a"])(Yr,ir,ar,!1,null,null,null);Jr.options.__file="profile.vue";var Zr=Jr.exports;s["default"].use(xe["a"]);var eo=new xe["a"]({mode:"history",linkActiveClass:"active",canReuse:!1,scrollBehavior:function(e,t,n){return n||{x:0,y:0}},routes:[{path:"/",redirect:"/licenses"},{path:"/account",redirect:"/account/billing"},{path:"/licenses",redirect:"/licenses/cms"},{path:"/developer",redirect:"/developer/plugins"},{path:"/account/billing",name:"Billing",component:Lt},{path:"/account/billing/invoices/:number",name:"AccountBillingInvoiceNumber",component:en},{path:"/account/settings",name:"AccountSettings",component:on},{path:"/buy-plugin/:handle/:edition",name:"BuyPlugin",component:fn,meta:{layout:"no-sidebar"}},{path:"/cart",name:"Cart",component:Dn,meta:{layout:"no-sidebar"}},{path:"/developer/plugins",name:"Plugins",component:Rn},{path:"/developer/add-plugin",component:Fs},{path:"/developer/plugins/:id",name:"DeveloperPluginsId",component:Fs},{path:"/developer/sales",name:"DeveloperSalesIndex",component:ii},{path:"/developer/sales/:id",name:"DeveloperSalesId",component:Js},{path:"/developer/profile",name:"DeveloperProfile",component:Xs},{path:"/developer/settings",name:"DeveloperSettings",component:di},{path:"/licenses/claim",component:gi},{path:"/licenses/cms",component:Zi},{path:"/licenses/cms/:id",component:Bi},{path:"/licenses/plugins",component:ga},{path:"/licenses/plugins/:id",component:ua},{path:"/payment",name:"Payment",component:Ga,meta:{layout:"no-sidebar"}},{path:"/thank-you",name:"ThankYou",component:Ja,meta:{layout:"no-sidebar"}},{path:"/partner",redirect:"/partner/overview"},{path:"/partner/overview",name:"PartnerOverview",component:sr},{path:"/partner/profile",name:"PartnerProfile",component:Zr}]});eo.beforeEach(function(e,t,n){eo.app.$refs.authManager&&eo.app.$refs.authManager.renewSession(),n()});var to=eo,no=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("modal",{staticClass:"auth-manager-modal",attrs:{show:e.showingLogoutWarningModal,transition:e.logoutWarningModalTransitionName},on:{"update:show":function(t){e.showingLogoutWarningModal=t},"update:transition":function(t){e.logoutWarningModalTransitionName=t},"after-enter":e.onAfterEnterLogoutWarningModal}},[n("template",{slot:"body"},[n("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),e._v("\n            "+e._s(e.logoutWarningPara)+"\n\n            "),n("div",{staticClass:"float-right mt-4"},[n("a",{staticClass:"btn btn-secondary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("Logout now")]),n("a",{ref:"renewSessionBtn",staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.renewSession(t)}}},[e._v("Keep me logged in")])])],1)],2),n("modal",{staticClass:"auth-manager-modal",attrs:{show:e.showingLoginModal,transition:e.loginModalTransitionName},on:{"update:show":function(t){e.showingLoginModal=t},"update:transition":function(t){e.loginModalTransitionName=t},"after-enter":e.onAfterEnterLoginModal,leave:e.onLeaveLoginModal}},[n("template",{slot:"body"},[n("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),n("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("h6",[e._v("Your session has ended")]),n("p",[e._v("Enter your password to log back in.")]),n("div",[n("div",{staticClass:"flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"passwordInput",staticClass:"form-control mr-2",class:{"is-invalid":e.loginErrorPara},attrs:{placeholder:"Password",type:"password",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("input",{staticClass:"btn btn-primary mr-2",attrs:{type:"submit",value:"Login",disabled:!e.passwordValidates}}),n("spinner",{attrs:{cssClass:{invisible:!e.passwordSpinner}}})],1)]),e.loginErrorPara?n("div",{staticClass:"text-red"},[e._v("\n                    "+e._s(e.loginErrorPara)+"\n                ")]):e._e()])],1)],2)],1)},so=[],io=n("c6c6"),ao=n.n(io),ro={methods:{isMobileBrowser:function(e){var t=navigator.userAgent||navigator.vendor||window.opera,n=new ao.a(t);if(e){if(n.mobile())return!0}else if(n.phone())return!0;return!1}}},oo=n("8f14"),co=n.n(oo),lo={components:{Modal:Ir,Spinner:Ue},mixins:[ro],data:function(){return{showingLoginModal:!1,showingLogoutWarningModal:!1,logoutWarningPara:null,loginErrorPara:null,password:null,passwordValidates:!1,logoutWarningModalTransitionName:"fade",loginModalTransitionName:"quick-fade",passwordSpinner:!1,minSafeSessionTime:120,checkInterval:60}},methods:{setCheckRemainingSessionTimer:function(e){this.checkRemainingSessionTimer&&clearTimeout(this.checkRemainingSessionTimer),this.checkRemainingSessionTimer=setTimeout(function(){this.checkRemainingSessionTime()}.bind(this),1e3*e)},checkRemainingSessionTime:function(e){var t=this,n={};e||(n.params={dontExtendSession:1}),m.a.get(Craft.actionUrl+"/users/get-remaining-session-time",n).then(function(e){"undefined"!==typeof e.data.csrfTokenValue&&"undefined"!==typeof Craft.csrfTokenValue&&(Craft.csrfTokenValue=e.data.csrfTokenValue),t.updateRemainingSessionTime(e.data.timeout),t.submitLoginIfLoggedOut=!1}).catch(function(){t.updateRemainingSessionTime(-1)})},updateRemainingSessionTime:function(e){this.remainingSessionTime=gn()(e),-1!==this.remainingSessionTime&&this.remainingSessionTime<this.minSafeSessionTime?(this.remainingSessionTime?(this.showingLogoutWarningModal||this.showLogoutWarningModal(),this.remainingSessionTime<this.checkInterval&&(this.showLoginModalTimer&&clearTimeout(this.showLoginModalTimer),this.showLoginModalTimer=setTimeout(function(){this.showLoginModal()}.bind(this),1e3*this.remainingSessionTime))):this.showingLoginModal?this.submitLoginIfLoggedOut&&this.submitLogin():this.showLoginModal(),this.setCheckRemainingSessionTimer(this.checkInterval)):(this.hideLogoutWarningModal(),this.hideLoginModal(),-1!==this.remainingSessionTime&&this.remainingSessionTime<this.minSafeSessionTime+this.checkInterval?this.setCheckRemainingSessionTimer(this.remainingSessionTime-this.minSafeSessionTime+1):this.setCheckRemainingSessionTimer(this.checkInterval))},showLogoutWarningModal:function(){var e,t=this;this.showingLoginModal?(this.hideLoginModal(!0),e=!0):e=!1,this.logoutWarningModalTransitionName=e?"quick-fade":"fade",this.$nextTick(function(){t.showingLogoutWarningModal=!0}),this.updateLogoutWarningMessage(),this.decrementLogoutWarningInterval=setInterval(function(){this.decrementLogoutWarning()}.bind(this),1e3)},onAfterEnterLogoutWarningModal:function(){this.isMobileBrowser(!0)||this.$refs.renewSessionBtn.focus()},updateLogoutWarningMessage:function(){var e=co()(1e3*this.remainingSessionTime);this.logoutWarningPara="Your session will expire in "+e+"."},decrementLogoutWarning:function(){this.remainingSessionTime>0&&(this.remainingSessionTime--,this.updateLogoutWarningMessage()),0===this.remainingSessionTime&&clearInterval(this.decrementLogoutWarningInterval)},hideLogoutWarningModal:function(e){var t=this;this.logoutWarningModalTransitionName=e?"quick-fade":"fade",this.$nextTick(function(){t.showingLogoutWarningModal=!1}),this.decrementLogoutWarningInterval&&clearInterval(this.decrementLogoutWarningInterval)},showLoginModal:function(){var e,t=this;this.showingLogoutWarningModal?(this.hideLogoutWarningModal(!0),e=!0):e=!1,this.loginModalTransitionName=e?"quick-fade":"fade",this.$nextTick(function(){t.showingLoginModal=!0})},onAfterEnterLoginModal:function(){this.isMobileBrowser(!0)||this.$refs.passwordInput.focus()},hideLoginModal:function(e){var t=this;this.loginModalTransitionName=e?"quick-fade":"fade",this.$nextTick(function(){t.showingLoginModal=!1})},onLeaveLoginModal:function(){this.password=""},logout:function(){m.a.get(Craft.actionUrl+"/users/logout").then(function(){document.location.href=""})},renewSession:function(){this.hideLogoutWarningModal(),this.checkRemainingSessionTime(!0)},validatePassword:function(){return this.password.length>=6?(this.passwordValidates=!0,!0):(this.passwordValidates=!1,!1)},login:function(){this.validatePassword()&&(this.passwordSpinner=!0,this.clearLoginError(),"undefined"!==typeof Craft.csrfTokenValue?(this.submitLoginIfLoggedOut=!0,this.checkRemainingSessionTime()):this.submitLogin())},submitLogin:function(){var e=this,t={loginName:Craft.username,password:this.password},n=g.a.stringify(t),s={};Craft.csrfTokenValue&&Craft.csrfTokenName&&(s["X-CSRF-Token"]=Craft.csrfTokenValue),m.a.post(Craft.actionUrl+"/users/login",n,{headers:s}).then(function(t){e.passwordSpinner=!1,t.data.success?(e.hideLoginModal(),e.checkRemainingSessionTime()):(e.showLoginError(t.data.error),e.isMobileBrowser(!0)||e.$refs.passwordInput.focus())}).catch(function(){e.passwordSpinner=!1,e.showLoginError()})},showLoginError:function(e){null!==e&&"undefined"!==typeof e||(e="An unknown error occurred."),this.loginErrorPara=e},clearLoginError:function(){this.showLoginError("")}},watch:{password:function(e){return this.validatePassword(),e}},mounted:function(){this.updateRemainingSessionTime(Craft.remainingSessionTime)}},uo=lo,po=(n("e810"),Object(Ne["a"])(uo,no,so,!1,null,null,null));po.options.__file="AuthManager.vue";var fo=po.exports,ho=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.license?n("div",{attrs:{id:"renew-licenses-modal"}},[n("modal",{attrs:{show:!0},on:{"background-click":function(t){e.$emit("cancel")}}},[n("template",{slot:"body"},[n("renew-licenses-form",{attrs:{license:e.license},on:{cancel:function(t){e.$emit("cancel")}}})],1)],2)],1):e._e()},mo=[],vo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.license.expirable&&e.license.expiresOn?n("div",[n("h2",{staticClass:"mb-3"},[e._v("Renew Licenses")]),"extend-updates"===e.renewLicensesStep?n("extend-updates",{attrs:{license:e.license,renew:e.renew},on:{"update:renew":function(t){e.renew=t},cancel:function(t){e.$emit("cancel")},continue:function(t){e.$store.commit("app/updateRenewLicensesStep","plugins")}}}):e._e(),"plugins"===e.renewLicensesStep?n("plugins",{attrs:{checkedLicenses:e.checkedLicenses,license:e.license,renew:e.renew},on:{"update:checkedLicenses":function(t){e.checkedLicenses=t},back:function(t){e.$store.commit("app/updateRenewLicensesStep","extend-updates")},addToCart:function(t){e.$emit("cancel")}}}):e._e(),"renew-plugin-license"===e.renewLicensesStep?n("renew-plugin-license",{attrs:{license:e.license},on:{cancel:function(t){e.$emit("cancel")},addToCart:function(t){e.$emit("cancel")}}}):e._e()],1):e._e()},go=[],bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("Do you want to renew plugin licenses as well?")]),n("table",{staticClass:"table mb-2"},[n("thead",[n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkAllChecked,expression:"checkAllChecked"}],ref:"checkAll",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checkAllChecked)?e._i(e.checkAllChecked,null)>-1:e.checkAllChecked},on:{change:[function(t){var n=e.checkAllChecked,s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);s.checked?r<0&&(e.checkAllChecked=n.concat([a])):r>-1&&(e.checkAllChecked=n.slice(0,r).concat(n.slice(r+1)))}else e.checkAllChecked=i},e.checkAll]}})]),n("th",[e._v("Item")]),n("th",[e._v("Renewal Date")]),n("th",[e._v("New Renewal Date")]),n("th",[e._v("Renewal Price")]),n("th",[e._v("Subtotal")])])]),n("tbody",[e._l(e.renewableLicenses(e.license,e.renew),function(t,s){return n("tr",{key:s},[n("td",[n("input",{attrs:{type:"checkbox",disabled:0===s},domProps:{value:1,checked:e.checkedLicenses[s]},on:{input:function(t){e.checkLicense(t,s)}}})]),n("td",[e._v(e._s(t.description))]),n("td",[e._v(e._s(e._f("moment")(t.expiresOn.date,"L")))]),n("td",[e._v(e._s(e._f("moment")(t.newExpiresOn,"L"))+" "),n("small",{staticClass:"text-grey-dark"},[e._v("(+"+e._s(e._f("moment")(t.newExpiresOn,"diff",t.newBaseExpiresOn.date,"days"))+" days)")])]),n("td",[e._v(e._s(e._f("currency")(t.edition.renewalPrice))+"/year")]),n("td",[e._v(e._s(e._f("currency")(e._f("moment")(t.newExpiresOn,"diff",t.newBaseExpiresOn.date,"years",!0)*t.edition.renewalPrice)))])])}),n("tr",[n("th"),n("th",{staticClass:"text-right",attrs:{colspan:"4"}},[e._v("Total")]),n("th",[e._v(e._s(e._f("currency")(e.renewableLicensesTotal(e.license,e.renew,e.checkedLicenses))))])])],2)]),n("button",{staticClass:"btn btn-secondary",on:{click:function(t){e.$emit("back")}}},[e._v("Back")]),n("button",{staticClass:"btn btn-primary",class:{disabled:0===e.renewableLicensesTotal(e.license,e.renew,e.checkedLicenses)},attrs:{disabled:0===e.renewableLicensesTotal(e.license,e.renew,e.checkedLicenses)},on:{click:function(t){e.addToCart()}}},[e._v("Add to cart")])])},_o=[],Co={props:["license","renew","checkedLicenses"],data:function(){return{checkAllChecked:!1}},computed:Object(we["a"])({},Object(i["d"])({pluginLicenses:function(e){return e.licenses.pluginLicenses}}),Object(i["c"])({renewableLicenses:"licenses/renewableLicenses",newExpiresOn:"licenses/newExpiresOn",renewableLicensesTotal:"licenses/renewableLicensesTotal"})),methods:{checkLicense:function(e,t){var n=JSON.parse(it()(this.checkedLicenses));n[t]=e.target.checked?1:0;var s=n.find(function(e){return 0===e});this.checkAllChecked=void 0===s,this.$emit("update:checkedLicenses",n)},checkAll:function(e){var t=[];e.target.checked?this.renewableLicenses(this.license,this.renew).forEach(function(e,n){t[n]=1}):t[0]=1,this.$emit("update:checkedLicenses",t)},addToCart:function(){var e=this,t=this.renewableLicenses(this.license,this.renew),n=[];t.forEach(function(e,t){if(this.checkedLicenses[t]){var s=e.type,i=e.key,a=this.$moment(e.newExpiresOn).format("YYYY-MM-DD"),r={type:s,licenseKey:i,expiryDate:a};n.push(r)}}.bind(this)),this.$store.dispatch("cart/addToCart",n).then(function(){e.$router.push({path:"/cart"}),e.$emit("addToCart")})}},mounted:function(){this.$refs.checkAll.click()}},yo=Co,wo=Object(Ne["a"])(yo,bo,_o,!1,null,null,null);wo.options.__file="Plugins.vue";var xo=wo.exports,Lo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select-field",{attrs:{value:e.renew,options:e.renewOptions},on:{input:function(t){e.$emit("update:renew",t)}}}),n("button",{staticClass:"btn btn-secondary",on:{click:function(t){e.$emit("cancel")}}},[e._v("Cancel")]),n("button",{staticClass:"btn btn-primary",on:{click:function(t){e.$emit("continue")}}},[e._v("Continue")])],1)},ko=[],Do={props:["license","renew"],computed:{renewOptions:function(){for(var e=[],t=1;t<=5;t++){var n=new Date;this.license.expired||(n=this.license.expiresOn.date);var s=this.$moment(n).add(t,"year"),i="Extend updates until "+this.$moment(s).format("L");e.push({label:i,value:t})}return e}}},Po=Do,$o=Object(Ne["a"])(Po,Lo,ko,!1,null,null,null);$o.options.__file="ExtendUpdates.vue";var Io=$o.exports,So=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select-field",{attrs:{options:e.renewOptions},model:{value:e.renew,callback:function(t){e.renew=t},expression:"renew"}}),n("table",{staticClass:"table mb-2"},[e._m(0),n("tbody",[n("tr",[n("td",[e._v(e._s(e.license.plugin.name))]),n("td",[e._v(e._s(e._f("moment")(e.license.expiresOn.date,"L")))]),n("td",[e._v(e._s(e._f("moment")(e.newExpiresOn,"L")))]),n("td",[e._v(e._s(e._f("currency")(e.license.edition.renewalPrice))+" "),n("span",{staticClass:"text-grey-dark"},[e._v("×")]),e._v(" "+e._s(Math.round(100*e.newExpiresOn.diff(e.license.expiresOn.date,"years",!0))/100)+" year(s)")]),n("td",[e._v(e._s(e._f("currency")(e.newExpiresOn.diff(e.license.expiresOn.date,"years",!0)*e.license.edition.renewalPrice)))])])])]),n("input",{staticClass:"btn btn-secondary",attrs:{type:"button",value:"Cancel"},on:{click:function(t){e.$emit("cancel")}}}),n("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Add to cart"},on:{click:function(t){e.addToCart()}}})],1)},Eo=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Item")]),n("th",[e._v("Renewal Date")]),n("th",[e._v("New Renewal Date")]),n("th",[e._v("Renewal Price")]),n("th",[e._v("Subtotal")])])])}],To={props:["license"],data:function(){return{renew:1}},computed:{renewOptions:function(){for(var e=[],t=1;t<=5;t++){var n=this.$moment(this.license.expiresOn.date).add(t,"year"),s=this.$moment(n).format("L"),i="Extend updates until "+s;e.push({label:i,value:t})}return e},newExpiresOn:function(){var e=this.$moment(this.license.expiresOn.date);return e.add(this.renew,"years")}},methods:{addToCart:function(){var e=this,t=this.$moment(this.license.expiresOn.date).add(this.renew,"year"),n=this.$moment(t).format("YYYY-MM-DD"),s={type:"plugin-renewal",licenseKey:this.license.key,expiryDate:n};this.$store.dispatch("cart/addToCart",[s]).then(function(){e.$router.push({path:"/cart"}),e.$emit("addToCart")}).catch(function(t){var n=t.response.data.errors&&t.response.data.errors[0]&&t.response.data.errors[0].message?t.response.data.errors[0].message:"Couldn’t add update to cart.";e.$store.dispatch("app/displayError",n)})}}},Oo=To,Ao=Object(Ne["a"])(Oo,So,Eo,!1,null,null,null);Ao.options.__file="RenewPluginLicense.vue";var No=Ao.exports,jo={props:["license"],components:{Plugins:xo,ExtendUpdates:Io,RenewPluginLicense:No},data:function(){return{renew:1,checkedLicenses:[]}},computed:Object(we["a"])({},Object(i["d"])({renewLicensesStep:function(e){return e.app.renewLicensesStep}}),Object(i["c"])({renewableLicenses:"licenses/renewableLicenses"}))},Uo=jo,Ro=Object(Ne["a"])(Uo,vo,go,!1,null,null,null);Ro.options.__file="RenewLicensesForm.vue";var Mo=Ro.exports,Fo={props:["license"],components:{Modal:Ir,RenewLicensesForm:Mo}},Bo=Fo,Vo=(n("1a78"),Object(Ne["a"])(Bo,ho,mo,!1,null,null,null));Vo.options.__file="RenewLicensesModal.vue";var qo=Vo.exports,zo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("app-header"),n("div",{staticClass:"flex-container"},[n("app-sidebar"),n("div",{staticClass:"main"},[n("div",{staticClass:"main-content"},[n("router-view",{key:e.$route.path})],1)])],1)],1)},Ko=[],Xo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-left"},[n("a",{attrs:{id:"sidebar-toggle",href:"#"},on:{click:function(t){t.preventDefault(),e.toggleSidebar()}}},[n("font-awesome-icon",{attrs:{icon:e.showingSidebar?"times":"bars"}})],1),n("div",{staticClass:"header-brand"},[n("router-link",{attrs:{to:"/"}},[e._v("Craft ID")])],1)]),n("div",{staticClass:"header-right ml-4"},[n("ul",{staticClass:"list-reset flex items-center"},[n("li",{staticClass:"block ml-6 cart-menu"},[n("router-link",{staticClass:"block",attrs:{to:"/cart"}},[n("font-awesome-icon",{attrs:{icon:"shopping-cart"}}),n("div",{staticClass:"cart-badge",class:{invisible:!e.cartTotalItems}},[e._v(e._s(e.cartTotalItems))])],1)],1),n("li",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.awayGlobalMenu,expression:"awayGlobalMenu"}],staticClass:"block ml-6 global-menu"},[n("a",{staticClass:"block toggle",on:{click:e.globalMenuToggle}},[n("font-awesome-icon",{attrs:{icon:"th"}})],1),n("div",{staticClass:"popover",class:{hidden:!e.showingGlobalMenu}},[n("div",[n("p",[n("router-link",{attrs:{to:"/"},nativeOn:{click:function(t){e.showingGlobalMenu=!1}}},[e._v("Craft ID")])],1),n("p",[n("a",{attrs:{href:e.craftPluginsUrl()}},[e._v("Craft Plugin Store")])])]),n("div",{staticClass:"popover-arrow"})])]),n("li",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.awayUserMenu,expression:"awayUserMenu"}],staticClass:"block ml-6 user-menu"},[n("a",{staticClass:"block toggle",on:{click:e.userMenuToggle}},[n("img",{attrs:{src:e.currentUser.photoUrl}})]),n("div",{staticClass:"popover",class:{hidden:!e.showingUserMenu}},[n("div",[e._v("\n                        "+e._s(e.currentUser.email)+"\n                    ")]),n("hr"),n("ul",{staticClass:"list-reset"},[n("li",[n("router-link",{staticClass:"block py-1",attrs:{to:"/account/billing"},nativeOn:{click:function(t){e.showingUserMenu=!1}}},[e._v("Billing")])],1),n("li",[n("router-link",{staticClass:"block py-1",attrs:{to:"/account/settings"},nativeOn:{click:function(t){e.showingUserMenu=!1}}},[e._v("Account Settings")])],1)]),n("hr"),e._m(0),n("div",{staticClass:"popover-arrow"})])])])])])},Go=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a",{attrs:{href:"/logout"}},[e._v("Logout")])])}],Wo=n("c7db"),Ho={mixins:[ze["a"]],directives:{onClickaway:Wo["directive"]},data:function(){return{showingSidebar:!1,showingUserMenu:!1,showingGlobalMenu:!1}},computed:Object(we["a"])({},Object(i["d"])({currentUser:function(e){return e.account.currentUser}}),Object(i["c"])({userIsInGroup:"account/userIsInGroup",cartTotalItems:"cart/cartTotalItems"})),methods:{toggleSidebar:function(){this.showingSidebar=!this.showingSidebar},awayUserMenu:function(){!0===this.showingUserMenu&&(this.showingUserMenu=!1)},awayGlobalMenu:function(){!0===this.showingGlobalMenu&&(this.showingGlobalMenu=!1)},userMenuToggle:function(){this.showingUserMenu=!this.showingUserMenu},globalMenuToggle:function(){this.showingGlobalMenu=!this.showingGlobalMenu}}},Qo=Ho,Yo=(n("139d"),Object(Ne["a"])(Qo,Xo,Go,!1,null,null,null));Yo.options.__file="AppHeader.vue";var Jo=Yo.exports,Zo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar"},[n("h5",[n("router-link",{attrs:{to:"/licenses"},nativeOn:{click:function(t){e.closeSidebar()}}},[n("font-awesome-icon",{attrs:{icon:"key"}}),e._v("\n            Licenses\n        ")],1)],1),n("ul",[n("li",[n("router-link",{attrs:{to:"/licenses/cms"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Craft CMS")])],1),n("li",[n("router-link",{attrs:{to:"/licenses/plugins"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Plugins")])],1),n("li",[n("router-link",{attrs:{to:"/licenses/claim"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Claim License")])],1)]),e.userIsInGroup("developers")?[n("h5",[n("router-link",{attrs:{to:"/developer"},nativeOn:{click:function(t){e.closeSidebar()}}},[n("font-awesome-icon",{attrs:{icon:"plug"}}),e._v("\n                Developer\n            ")],1)],1),n("ul",[n("li",[n("router-link",{attrs:{to:"/developer/plugins"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Plugins")])],1),n("li",[n("router-link",{attrs:{to:"/developer/sales"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Sales")])],1),n("li",[n("router-link",{attrs:{to:"/developer/profile"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Profile")])],1),n("li",[n("router-link",{attrs:{to:"/developer/settings"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Settings")])],1)])]:e._e(),e.userIsInGroup("staff")&&e.currentUser.enableShowcaseFeatures?[n("h5",[n("a",{staticClass:"disabled",attrs:{href:"#"}},[n("font-awesome-icon",{attrs:{icon:"image"}}),e._v("\n                Showcase\n            ")],1)]),e._m(0)]:e._e(),e.currentUser.enablePartnerFeatures?[n("h5",[n("router-link",{attrs:{to:"/partner"},nativeOn:{click:function(t){e.closeSidebar()}}},[n("font-awesome-icon",{attrs:{icon:"handshake"}}),e._v("\n                Partner\n            ")],1)],1),n("ul",[n("li",[n("router-link",{attrs:{to:"/partner/overview"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Overview")])],1),n("li",[n("router-link",{attrs:{to:"/partner/profile"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Profile")])],1)])]:e._e(),n("h5",[n("router-link",{attrs:{to:"/account"},nativeOn:{click:function(t){e.closeSidebar()}}},[n("font-awesome-icon",{attrs:{icon:"user"}}),e._v("\n            Account\n        ")],1)],1),n("ul",[n("li",[n("router-link",{attrs:{to:"/account/billing"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Billing")])],1),n("li",[n("router-link",{attrs:{to:"/account/settings"},nativeOn:{click:function(t){e.closeSidebar()}}},[e._v("Settings")])],1)])],2)},ec=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{staticClass:"disabled",attrs:{href:"#"}},[e._v("Activity")])]),n("li",[n("a",{staticClass:"disabled",attrs:{href:"#"}},[e._v("Projects")])]),n("li",[n("a",{staticClass:"disabled",attrs:{href:"#"}},[e._v("Agency Profile")])])])}],tc={computed:Object(we["a"])({},Object(i["d"])({currentUser:function(e){return e.account.currentUser}}),Object(i["c"])({userIsInGroup:"account/userIsInGroup"})),methods:{closeSidebar:function(){this.showingSidebar=!1}}},nc=tc,sc=Object(Ne["a"])(nc,Zo,ec,!1,null,null,null);sc.options.__file="AppSidebar.vue";var ic=sc.exports,ac={components:{AppHeader:Jo,AppSidebar:ic}},rc=ac,oc=Object(Ne["a"])(rc,zo,Ko,!1,null,null,null);oc.options.__file="Layout.vue";var cc=oc.exports,lc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("app-header"),n("div",{staticClass:"flex-container"},[n("div",{staticClass:"main"},[n("div",{staticClass:"main-content"},[n("router-view",{key:e.$route.path})],1)])])],1)},dc=[],uc={components:{AppHeader:Jo}},pc=uc,fc=Object(Ne["a"])(pc,lc,dc,!1,null,null,null);fc.options.__file="LayoutNoSidebar.vue";var hc=fc.exports,mc={router:to,components:{AuthManager:fo,RenewLicensesModal:qo,Layout:cc,LayoutNoSidebar:hc,Spinner:Ue},computed:Object(we["a"])({layout:function(){return"layout"+(this.$route.meta.layout?"-"+this.$route.meta.layout:"")}},Object(i["d"])({notification:function(e){return e.app.notification},showRenewLicensesModal:function(e){return e.app.showRenewLicensesModal},loading:function(e){return e.app.loading},renewLicense:function(e){return e.app.renewLicense}})),created:function(){var e=this;this.$store.dispatch("craftId/getCraftIdData").then(function(){e.$store.commit("app/updateLoading",!1)}),this.$store.dispatch("cart/getCart"),window.stripeAccessToken?this.$store.dispatch("account/getStripeAccount").then(function(){e.$store.commit("app/updateStripeAccountLoading",!1)},function(){e.$store.commit("app/updateStripeAccountLoading",!1)}):this.$store.commit("app/updateStripeAccountLoading",!1),this.$store.dispatch("account/getInvoices").then(function(){e.$store.commit("app/updateInvoicesLoading",!1)}).catch(function(){e.$store.commit("app/updateInvoicesLoading",!1)}),window.sessionNotice&&this.$store.dispatch("app/displayNotice",window.sessionNotice),window.sessionError&&this.$store.dispatch("app/displayError",window.sessionError)}},vc=mc,gc=(n("4b04"),Object(Ne["a"])(vc,Ce,ye,!1,null,null,null));gc.options.__file="App.vue";var bc=gc.exports,_c=(n("877f"),n("ad3d")),Cc=n("ecee"),yc=n("c074");Cc["c"].add([yc["d"],yc["p"],yc["o"],yc["a"],yc["m"],yc["i"],yc["l"],yc["h"],yc["q"],yc["k"],yc["f"],yc["b"],yc["n"],yc["e"],yc["g"],yc["j"],yc["c"]]),s["default"].component("font-awesome-icon",_c["a"]),s["default"].config.productionTip=!1;var wc=n("1dce"),xc=n.n(wc);s["default"].filter("currency",ve),s["default"].filter("formatCmsLicense",ge),s["default"].filter("formatPluginLicense",be),s["default"].filter("capitalize",_e),s["default"].use(n("2ead")),s["default"].use(xc.a),window.craftIdApp=new s["default"]({store:he,render:function(e){return e(bc)},data:function(){return{}},methods:{connectAppCallback:function(e){this.$store.dispatch("account/connectAppCallback",e),this.$store.dispatch("app/displayNotice","App connected.")}}}).$mount("#app")},a734:function(e,t,n){"use strict";var s=n("f558"),i=n.n(s);i.a},aa96:function(e,t,n){"use strict";var s=n("2ea5"),i=n.n(s);i.a},ae00:function(e,t,n){e.exports=n.p+"img/powered_by_stripe.svg"},b07c:function(e,t,n){"use strict";var s=n("1707"),i=n.n(s);i.a},b6d9:function(e,t,n){"use strict";var s=n("dc21"),i=n.n(s);i.a},bc92:function(e,t,n){"use strict";var s=n("751e"),i=n.n(s);i.a},d3f8:function(e,t,n){"use strict";var s=n("8faf"),i=n.n(s);i.a},dc21:function(e,t,n){},e810:function(e,t,n){"use strict";var s=n("3aab"),i=n.n(s);i.a},eb8c:function(e,t,n){},f558:function(e,t,n){},f5fe:function(e,t,n){"use strict";var s=n("6901"),i=n.n(s);i.a},f9f2:function(e,t,n){},fbf4:function(e,t,n){},fc24:function(e,t,n){"use strict";var s=n("22c8"),i=n.n(s);i.a}});
//# sourceMappingURL=app.js.map